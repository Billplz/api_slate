
<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <title>API Reference</title>

    <style>
      .highlight table td { padding: 5px; }
.highlight table pre { margin: 0; }
.highlight .gh {
  color: #999999;
}
.highlight .sr {
  color: #f6aa11;
}
.highlight .go {
  color: #888888;
}
.highlight .gp {
  color: #555555;
}
.highlight .gs {
}
.highlight .gu {
  color: #aaaaaa;
}
.highlight .nb {
  color: #f6aa11;
}
.highlight .cm {
  color: #75715e;
}
.highlight .cp {
  color: #75715e;
}
.highlight .c1 {
  color: #75715e;
}
.highlight .cs {
  color: #75715e;
}
.highlight .c, .highlight .cd {
  color: #75715e;
}
.highlight .err {
  color: #960050;
}
.highlight .gr {
  color: #960050;
}
.highlight .gt {
  color: #960050;
}
.highlight .gd {
  color: #49483e;
}
.highlight .gi {
  color: #49483e;
}
.highlight .ge {
  color: #49483e;
}
.highlight .kc {
  color: #66d9ef;
}
.highlight .kd {
  color: #66d9ef;
}
.highlight .kr {
  color: #66d9ef;
}
.highlight .no {
  color: #66d9ef;
}
.highlight .kt {
  color: #66d9ef;
}
.highlight .mf {
  color: #ae81ff;
}
.highlight .mh {
  color: #ae81ff;
}
.highlight .il {
  color: #ae81ff;
}
.highlight .mi {
  color: #ae81ff;
}
.highlight .mo {
  color: #ae81ff;
}
.highlight .m, .highlight .mb, .highlight .mx {
  color: #ae81ff;
}
.highlight .sc {
  color: #ae81ff;
}
.highlight .se {
  color: #ae81ff;
}
.highlight .ss {
  color: #ae81ff;
}
.highlight .sd {
  color: #e6db74;
}
.highlight .s2 {
  color: #e6db74;
}
.highlight .sb {
  color: #e6db74;
}
.highlight .sh {
  color: #e6db74;
}
.highlight .si {
  color: #e6db74;
}
.highlight .sx {
  color: #e6db74;
}
.highlight .s1 {
  color: #e6db74;
}
.highlight .s {
  color: #e6db74;
}
.highlight .na {
  color: #a6e22e;
}
.highlight .nc {
  color: #a6e22e;
}
.highlight .nd {
  color: #a6e22e;
}
.highlight .ne {
  color: #a6e22e;
}
.highlight .nf {
  color: #a6e22e;
}
.highlight .vc {
  color: #ffffff;
}
.highlight .nn {
  color: #ffffff;
}
.highlight .nl {
  color: #ffffff;
}
.highlight .ni {
  color: #ffffff;
}
.highlight .bp {
  color: #ffffff;
}
.highlight .vg {
  color: #ffffff;
}
.highlight .vi {
  color: #ffffff;
}
.highlight .nv {
  color: #ffffff;
}
.highlight .w {
  color: #ffffff;
}
.highlight {
  color: #ffffff;
}
.highlight .n, .highlight .py, .highlight .nx {
  color: #ffffff;
}
.highlight .ow {
  color: #f92672;
}
.highlight .nt {
  color: #f92672;
}
.highlight .k, .highlight .kv {
  color: #f92672;
}
.highlight .kn {
  color: #f92672;
}
.highlight .kp {
  color: #f92672;
}
.highlight .o {
  color: #f92672;
}
    </style>
    <link href="stylesheets/screen.css" rel="stylesheet" media="screen" />
    <link href="stylesheets/print.css" rel="stylesheet" media="print" />
      <script src="javascripts/all.js"></script>
    <link href="images/favicon.png" rel="icon" type="image/png" />
  </head>

  <body class="index" data-languages="[&quot;shell&quot;,&quot;ruby&quot;,&quot;php&quot;]">
    <a href="#" id="nav-button">
      <span>
        NAV
        <img src="images/navbar.png" alt="Navbar" />
      </span>
    </a>
    <div class="toc-wrapper">
      <img src="images/logo.png" class="logo" alt="Logo" />
        <div class="lang-selector">
              <a href="#" data-language-name="shell">shell</a>
              <a href="#" data-language-name="ruby">ruby</a>
              <a href="#" data-language-name="php">php</a>
        </div>
        <div class="search">
          <input type="text" class="search" id="input-search" placeholder="Search">
        </div>
        <ul class="search-results"></ul>
      <ul id="toc" class="toc-list-h1">
          <li>
            <a href="#introduction" class="toc-h1 toc-link" data-title="Introduction">Introduction</a>
          </li>
          <li>
            <a href="#sandbox-mode" class="toc-h1 toc-link" data-title="Sandbox Mode">Sandbox Mode</a>
          </li>
          <li>
            <a href="#api-flow" class="toc-h1 toc-link" data-title="API Flow">API Flow</a>
          </li>
          <li>
            <a href="#authentication" class="toc-h1 toc-link" data-title="Authentication">Authentication</a>
          </li>
          <li>
            <a href="#integration" class="toc-h1 toc-link" data-title="Integration">Integration</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#integration-xero" class="toc-h2 toc-link" data-title="Xero">Xero</a>
                  </li>
                  <li>
                    <a href="#integration-oauth-2-0" class="toc-h2 toc-link" data-title="OAuth 2.0">OAuth 2.0</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#direct-payment-gateway" class="toc-h1 toc-link" data-title="Direct Payment Gateway">Direct Payment Gateway</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#direct-payment-gateway-bypass-billplz-bill-page" class="toc-h2 toc-link" data-title="Bypass Billplz Bill Page">Bypass Billplz Bill Page</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#v3" class="toc-h1 toc-link" data-title="V3">V3</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#v3-collections" class="toc-h2 toc-link" data-title="Collections">Collections</a>
                      <ul class="toc-list-h3">
                          <li>
                            <a href="#v3-collections-create-a-collection" class="toc-h3 toc-link" data-title="Create a Collection">Create a Collection</a>
                          </li>
                          <li>
                            <a href="#v3-collections-get-a-collection" class="toc-h3 toc-link" data-title="Get a Collection">Get a Collection</a>
                          </li>
                          <li>
                            <a href="#v3-collections-get-collection-index" class="toc-h3 toc-link" data-title="Get Collection Index">Get Collection Index</a>
                          </li>
                          <li>
                            <a href="#v3-collections-create-an-open-collection" class="toc-h3 toc-link" data-title="Create an Open Collection">Create an Open Collection</a>
                          </li>
                          <li>
                            <a href="#v3-collections-get-an-open-collection" class="toc-h3 toc-link" data-title="Get an Open Collection">Get an Open Collection</a>
                          </li>
                          <li>
                            <a href="#v3-collections-get-an-open-collection-index" class="toc-h3 toc-link" data-title="Get an Open Collection Index">Get an Open Collection Index</a>
                          </li>
                          <li>
                            <a href="#v3-collections-deactivate-a-collection" class="toc-h3 toc-link" data-title="Deactivate a Collection">Deactivate a Collection</a>
                          </li>
                          <li>
                            <a href="#v3-collections-activate-a-collection" class="toc-h3 toc-link" data-title="Activate a Collection">Activate a Collection</a>
                          </li>
                      </ul>
                  </li>
                  <li>
                    <a href="#v3-bills" class="toc-h2 toc-link" data-title="Bills">Bills</a>
                      <ul class="toc-list-h3">
                          <li>
                            <a href="#v3-bills-create-a-bill" class="toc-h3 toc-link" data-title="Create a Bill">Create a Bill</a>
                          </li>
                          <li>
                            <a href="#v3-bills-get-a-bill" class="toc-h3 toc-link" data-title="Get a Bill">Get a Bill</a>
                          </li>
                          <li>
                            <a href="#v3-bills-delete-a-bill" class="toc-h3 toc-link" data-title="Delete a Bill">Delete a Bill</a>
                          </li>
                      </ul>
                  </li>
                  <li>
                    <a href="#v3-registration-check" class="toc-h2 toc-link" data-title="Registration Check">Registration Check</a>
                      <ul class="toc-list-h3">
                          <li>
                            <a href="#v3-registration-check-by-bank-account-number" class="toc-h3 toc-link" data-title="By Bank Account Number">By Bank Account Number</a>
                          </li>
                      </ul>
                  </li>
                  <li>
                    <a href="#v3-transactions" class="toc-h2 toc-link" data-title="Transactions">Transactions</a>
                      <ul class="toc-list-h3">
                          <li>
                            <a href="#v3-transactions-get-transaction-index" class="toc-h3 toc-link" data-title="Get Transaction Index">Get Transaction Index</a>
                          </li>
                      </ul>
                  </li>
                  <li>
                    <a href="#v3-payment-methods" class="toc-h2 toc-link" data-title="Payment Methods">Payment Methods</a>
                      <ul class="toc-list-h3">
                          <li>
                            <a href="#v3-payment-methods-get-payment-method-index" class="toc-h3 toc-link" data-title="Get Payment Method Index">Get Payment Method Index</a>
                          </li>
                          <li>
                            <a href="#v3-payment-methods-update-payment-methods" class="toc-h3 toc-link" data-title="Update Payment Methods">Update Payment Methods</a>
                          </li>
                      </ul>
                  </li>
                  <li>
                    <a href="#v3-bank-account-direct-verification" class="toc-h2 toc-link" data-title="Bank Account Direct Verification">Bank Account Direct Verification</a>
                      <ul class="toc-list-h3">
                          <li>
                            <a href="#v3-bank-account-direct-verification-get-bank-account-index" class="toc-h3 toc-link" data-title="Get Bank Account Index">Get Bank Account Index</a>
                          </li>
                          <li>
                            <a href="#v3-bank-account-direct-verification-get-a-bank-account" class="toc-h3 toc-link" data-title="Get a Bank Account">Get a Bank Account</a>
                          </li>
                          <li>
                            <a href="#v3-bank-account-direct-verification-create-a-bank-account" class="toc-h3 toc-link" data-title="Create a Bank Account">Create a Bank Account</a>
                              <ul class="toc-list-h4">
                                  <li>
                                    <a href="#v3-bank-account-direct-verification-create-a-bank-account-bank-code-table" class="toc-h4 toc-link" data-title="Bank Code Table">Bank Code Table</a>
                                  </li>
                              </ul>
                          </li>
                      </ul>
                  </li>
                  <li>
                    <a href="#v3-get-fpx-banks" class="toc-h2 toc-link" data-title="Get FPX Banks">Get FPX Banks</a>
                      <ul class="toc-list-h3">
                          <li>
                            <a href="#v3-get-fpx-banks-create-a-bank-account-fpx-bank-abbreviations" class="toc-h3 toc-link" data-title="Fpx Bank Abbreviations">Fpx Bank Abbreviations</a>
                          </li>
                      </ul>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#v4" class="toc-h1 toc-link" data-title="V4">V4</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#v4-collections" class="toc-h2 toc-link" data-title="Collections">Collections</a>
                      <ul class="toc-list-h3">
                          <li>
                            <a href="#v4-collections-create-a-collection" class="toc-h3 toc-link" data-title="Create a Collection">Create a Collection</a>
                          </li>
                          <li>
                            <a href="#v4-collections-get-a-collection" class="toc-h3 toc-link" data-title="Get a Collection">Get a Collection</a>
                          </li>
                          <li>
                            <a href="#v4-collections-get-collection-index" class="toc-h3 toc-link" data-title="Get Collection Index">Get Collection Index</a>
                          </li>
                          <li>
                            <a href="#v4-collections-create-an-open-collection" class="toc-h3 toc-link" data-title="Create an Open Collection">Create an Open Collection</a>
                          </li>
                          <li>
                            <a href="#v4-collections-get-an-open-collection" class="toc-h3 toc-link" data-title="Get an Open Collection">Get an Open Collection</a>
                          </li>
                          <li>
                            <a href="#v4-collections-get-open-collection-index" class="toc-h3 toc-link" data-title="Get Open Collection Index">Get Open Collection Index</a>
                          </li>
                      </ul>
                  </li>
                  <li>
                    <a href="#v4-payout-flow" class="toc-h2 toc-link" data-title="Payout Flow">Payout Flow</a>
                  </li>
                  <li>
                    <a href="#v4-payout-collections" class="toc-h2 toc-link" data-title="Payout Collections">Payout Collections</a>
                      <ul class="toc-list-h3">
                          <li>
                            <a href="#v4-payout-collections-create-a-payout-collection" class="toc-h3 toc-link" data-title="Create a Payout Collection">Create a Payout Collection</a>
                          </li>
                          <li>
                            <a href="#v4-payout-collections-get-a-payout-collection" class="toc-h3 toc-link" data-title="Get a Payout Collection">Get a Payout Collection</a>
                          </li>
                      </ul>
                  </li>
                  <li>
                    <a href="#v4-payout" class="toc-h2 toc-link" data-title="Payout">Payout</a>
                      <ul class="toc-list-h3">
                          <li>
                            <a href="#v4-payout-create-a-payout" class="toc-h3 toc-link" data-title="Create a Payout">Create a Payout</a>
                          </li>
                          <li>
                            <a href="#v4-payout-get-a-payout" class="toc-h3 toc-link" data-title="Get a Payout">Get a Payout</a>
                          </li>
                      </ul>
                  </li>
                  <li>
                    <a href="#v4-webhook-rank" class="toc-h2 toc-link" data-title="Webhook Rank">Webhook Rank</a>
                  </li>
                  <li>
                    <a href="#v4-get-payment-gateways" class="toc-h2 toc-link" data-title="Get Payment Gateways">Get Payment Gateways</a>
                      <ul class="toc-list-h3">
                          <li>
                            <a href="#v4-get-payment-gateways-get-a-payout-payment-gateway-abbreviations" class="toc-h3 toc-link" data-title="Payment Gateway Abbreviations">Payment Gateway Abbreviations</a>
                          </li>
                      </ul>
                  </li>
                  <li>
                    <a href="#v4-tokenization" class="toc-h2 toc-link" data-title="Tokenization">Tokenization</a>
                      <ul class="toc-list-h3">
                          <li>
                            <a href="#v4-tokenization-senangpay" class="toc-h3 toc-link" data-title="Senangpay">Senangpay</a>
                              <ul class="toc-list-h4">
                                  <li>
                                    <a href="#v4-tokenization-senangpay-create-card" class="toc-h4 toc-link" data-title="Create Card">Create Card</a>
                                  </li>
                                  <li>
                                    <a href="#v4-tokenization-senangpay-delete-card" class="toc-h4 toc-link" data-title="Delete Card">Delete Card</a>
                                  </li>
                                  <li>
                                    <a href="#v4-tokenization-senangpay-3d-secure-update" class="toc-h4 toc-link" data-title="3D Secure Update">3D Secure Update</a>
                                  </li>
                                  <li>
                                    <a href="#v4-tokenization-senangpay-charge-card" class="toc-h4 toc-link" data-title="Charge Card">Charge Card</a>
                                  </li>
                              </ul>
                          </li>
                          <li>
                            <a href="#v4-tokenization-ocbc" class="toc-h3 toc-link" data-title="OCBC">OCBC</a>
                              <ul class="toc-list-h4">
                                  <li>
                                    <a href="#v4-tokenization-ocbc-create-card" class="toc-h4 toc-link" data-title="Create Card">Create Card</a>
                                  </li>
                                  <li>
                                    <a href="#v4-tokenization-ocbc-delete-card" class="toc-h4 toc-link" data-title="Delete Card">Delete Card</a>
                                  </li>
                                  <li>
                                    <a href="#v4-tokenization-ocbc-3d-secure-update" class="toc-h4 toc-link" data-title="3D Secure Update">3D Secure Update</a>
                                  </li>
                                  <li>
                                    <a href="#v4-tokenization-ocbc-charge-card" class="toc-h4 toc-link" data-title="Charge Card">Charge Card</a>
                                  </li>
                              </ul>
                          </li>
                      </ul>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#x-signature" class="toc-h1 toc-link" data-title="X Signature">X Signature</a>
          </li>
          <li>
            <a href="#payment-completion" class="toc-h1 toc-link" data-title="Payment Completion">Payment Completion</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#payment-completion-basic-callback-url" class="toc-h2 toc-link" data-title="Basic Callback Url">Basic Callback Url</a>
                  </li>
                  <li>
                    <a href="#payment-completion-basic-redirect-url" class="toc-h2 toc-link" data-title="Basic Redirect Url">Basic Redirect Url</a>
                  </li>
                  <li>
                    <a href="#payment-completion-x-signature-callback-url" class="toc-h2 toc-link" data-title="X Signature Callback Url">X Signature Callback Url</a>
                  </li>
                  <li>
                    <a href="#payment-completion-x-signature-redirect-url" class="toc-h2 toc-link" data-title="X Signature Redirect Url">X Signature Redirect Url</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#rate-limit" class="toc-h1 toc-link" data-title="Rate Limit">Rate Limit</a>
          </li>
          <li>
            <a href="#errors" class="toc-h1 toc-link" data-title="Errors">Errors</a>
          </li>
      </ul>
        <ul class="toc-footer">
            <li><a href='https://www.billplz.com'>Billplz</a></li>
            <li><a href='https://www.billplz-sandbox.com'>Billplz Sandbox</a></li>
            <li><a href='https://www.facebook.com/groups/billplzdevjam'>Developer Community</a></li>
            <li><a href='https:///help.billplz.com'>Frequently Asked Questions</a></li>
        </ul>
    </div>
    <div class="page-wrapper">
      <div class="dark-box"></div>
      <div class="content">
        <h1 id='introduction'>Introduction</h1>
<blockquote>
<p>API Endpoint:</p>
</blockquote>
<pre class="highlight plaintext"><code>https://www.billplz.com/api/
</code></pre>
<p>Welcome to the Billplz API! You can use our API to access Billplz API endpoints to start sending bills and collecting payment.</p>

<p>Our API is organized around REST. JSON will be returned in all responses from the API, including errors. The API will accept both application/x-www-form-urlencoded and application/json.</p>

<aside class="notice">
  THE MANAGEMENT CANNOT ACCEPT RESPONSIBILITY FOR LOSS OF MONEY DUE TO IMPROPER USE OF BILLPLZ API.
</aside>
<h1 id='sandbox-mode'>Sandbox Mode</h1>
<blockquote>
<p>API Endpoint:</p>
</blockquote>
<pre class="highlight plaintext"><code>https://www.billplz-sandbox.com/api/
</code></pre>
<p>The Billplz Sandbox mirrors the features found on the real production server, while some of the features do not apply to the Sandbox.</p>

<p>You should test your integrations and know they will behave the same on the production server as they do in the Sandbox environment.</p>

<aside class="notice">
  SANDBOX AND REAL PRODUCTION ARE SEPARATE ACCOUNTS. PLEASE USE YOUR PRODUCTION ACCOUNT IN PRODUCTION ENDPOINT; SANDBOX ACCOUNT IN SANDBOX ENDPOINT.
</aside>
<h1 id='api-flow'>API Flow</h1>
<p>In Billplz, you are interacting with Bill and Collection.</p>

<p>A Collection is a set of Bills. The relationship is, Collection has many Bills. You can choose to create a Collection either from API or within your Billplz&#39;s dashboard.</p>

<p>An example of Collection would be something like Tuition Fee for June 2015, Donation for Earthquake, Ticket Payment, and many more.</p>

<p>A Bill represents the promise made to you by your customer. It&#39;s an invoice for your customer. A Bill must belong to a Collection.</p>

<p>To start using the API, you would have to create a Collection. Then the payment flow will kick in as per below:</p>
<h6 id='api-flow-normal-completion-flow'>NORMAL COMPLETION FLOW</h6>
<ol>
<li>Customer visits your site.</li>
<li>Customer chooses to make payment.</li>
<li>Your site creates a Bill via API call.</li>
<li>Billplz API returns Bill&#39;s URL.</li>
<li>Your site redirects the customer to Bill&#39;s URL.</li>
<li>The customer makes payment via payment option of choice.</li>
<li>Billplz sends a server-side update to your site upon payment failure or success. (Basic Callback URL / X Signature Callback URL depending on your configuration) <strong><em>[your backend server should capture the transaction update at this point]</em></strong> <em>refer to <a href="#payment-completion-x-signature-callback-url">X Signature Callback Url</a></em>.</li>
<li>Billplz redirects (Payment Completion) the customer back to your site if <code>redirect_url</code> is not empty (Basic Redirect URL / X Signature Redirect URL depending on your configuration)
<strong><em>[your server should capture the transaction update at this point and give your user an instant reflection on the page loaded]</em></strong> <em>refer to <a href="#payment-completion-x-signature-redirect-url">X Signature Redirect Url</a></em>
or,
The customer will see Billplz receipt if <code>redirect_url</code> is not present.</li>
</ol>
<h6 id='api-flow-completion-flow-without-redirect_url'>COMPLETION FLOW WITHOUT REDIRECT_URL</h6>
<ol>
<li>Customer visits your site.</li>
<li>Customer chooses to make payment.</li>
<li>Your site creates a Bill via API call.</li>
<li>Billplz API returns Bill&#39;s URL.</li>
<li>Your site redirects the customer to Bill&#39;s URL.</li>
<li>The customer makes payment via payment option of choice.</li>
<li>Billplz sends a server-side update to your site upon payment failure or success. (Basic Callback URL / X Signature Callback URL depending on your configuration)
<strong><em>[your backend server should capture the transaction update at this point]</em></strong> <em>refer to <a href="#payment-completion-x-signature-callback-url">X Signature Callback Url</a></em>.
Billplz does not redirects (Payment Completion) the customer back to your site, <code>redirect_url</code> (due to many possibilities, app hang, browser closed, disconnected, etc)</li>
</ol>

<aside class="warning">
  Integration with <code>callback_url</code> <strong>is compulsory</strong>.
</aside>

<aside class="success">
  Use <code>redirect_url</code> for a faster status update and better user experience.
</aside>

<aside class="notice">
  The order of <code>redirect_url</code> and <code>callback_url</code> APIs execution is not in a fixed order. Your system should not rely on the sequence and must be able to prevent duplicate updates.
</aside>
<h1 id='authentication'>Authentication</h1>
<blockquote>
<p>To test authentication, use this code:</p>
</blockquote>
<pre class="highlight shell tab-shell"><code><span class="c"># With shell, you can just pass the correct HTTP Basic Auth credential with each request.</span>
curl https://www.billplz.com/api/v4/webhook_rank <span class="se">\</span>
  -u 73eb57f0-7d4e-42b9-a544-aeac6e4b0f81:

<span class="c"># Alternatively, you may use header with base64 encoded API Secret Key</span>
curl https://www.billplz.com/api/v4/webhook_rank <span class="se">\</span>
  -H <span class="s2">"Authorization: Basic NzNlYjU3ZjAtN2Q0ZS00MmI5LWE1NDQtYWVhYzZlNGIwZjgxOg=="</span>

</code></pre><pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
<span class="nv">$host</span> <span class="o">=</span> <span class="s1">'https://www.billplz.com/api/v4/webhook_rank'</span><span class="p">;</span>
<span class="nv">$api_key</span> <span class="o">=</span> <span class="s1">'73eb57f0-7d4e-42b9-a544-aeac6e4b0f81'</span><span class="p">;</span>
<span class="nv">$process</span> <span class="o">=</span> <span class="nb">curl_init</span><span class="p">(</span><span class="nv">$host</span><span class="p">);</span>
<span class="nb">curl_setopt</span><span class="p">(</span><span class="nv">$process</span><span class="p">,</span> <span class="nx">CURLOPT_USERPWD</span><span class="p">,</span> <span class="nv">$api_key</span> <span class="o">.</span> <span class="s2">":"</span><span class="p">);</span>
<span class="nv">$return</span> <span class="o">=</span> <span class="nb">curl_exec</span><span class="p">(</span><span class="nv">$process</span><span class="p">);</span>
<span class="k">echo</span> <span class="nv">$return</span><span class="p">;</span>
</code></pre>
<blockquote>
<p>If authenticated, you should not see <code>Unauthorized</code> response type.</p>

<p>curl uses the -u flag to pass basic auth credentials (adding a colon after your API key will prevent it from asking you for a password).</p>
</blockquote>

<p>You authenticate to the Billplz API by providing your API Secret Keys in the request. You can get your API keys from your account&#39;s settings page.</p>

<p>Authentication to the API occurs via HTTP Basic Auth. Provide your API key as the basic auth username. You do not need to provide a password.</p>

<p>All API requests must be made over HTTPS. Calls made over plain HTTP will fail. You must authenticate all requests.</p>
<h1 id='integration'>Integration</h1>
<blockquote>
<p>GitHub:</p>
</blockquote>
<pre class="highlight plaintext"><code>https://github.com/billplz
</code></pre>
<blockquote>
<p>Knowledgebase:</p>
</blockquote>
<pre class="highlight plaintext"><code>https://help.billplz.com/article/53-list-of-system-with-production-ready-integration
</code></pre>
<p>Billplz has been integrated with many systems available in the market and always working to integrate with more platforms.</p>

<p>For a self-hosted system, you may download a production-ready module to integrate with your e-commerce system. Please refer to our <a href="https://github.com/billplz">GitHub</a> or <a href="https://help.billplz.com/article/53-list-of-system-with-production-ready-integration">Knowledgebase</a> for the list of the available module.</p>
<h2 id='integration-xero'>Xero</h2>
<p>Billplz integration with XERO has been deprecated and pending removal.</p>
<h2 id='integration-oauth-2-0'>OAuth 2.0</h2>
<p>Billplz provides a solution for a platform owner to connect merchants with Billplz easily. With OAuth integration, a merchant can easily integrate with Billplz by Signing In using their Billplz account. That&#39;s means; they don&#39;t have to manually copy <code>API Secret Key</code>, <code>Collection ID</code>, and <code>X Signature Key</code> to your platform.</p>

<aside class="notice">
  OAuth 2.0 integration is an exclusive feature offered to Billplz's partner. Get in touch with our team for further details.
</aside>
<h1 id='direct-payment-gateway'>Direct Payment Gateway</h1><h2 id='direct-payment-gateway-bypass-billplz-bill-page'>Bypass Billplz Bill Page</h2>
<blockquote>
<p>Example request:</p>
</blockquote>
<pre class="highlight shell tab-shell"><code><span class="c"># Creates a bill for RM 2.00 with reference_1_label and reference_1</span>
curl https://www.billplz.com/api/v3/bills <span class="se">\</span>
  -u 73eb57f0-7d4e-42b9-a544-aeac6e4b0f81: <span class="se">\</span>
  -d <span class="nv">collection_id</span><span class="o">=</span><span class="s2">"inbmmepb"</span> <span class="se">\</span>
  -d <span class="nv">description</span><span class="o">=</span><span class="s2">"Maecenas eu placerat ante."</span> <span class="se">\</span>
  -d <span class="nv">email</span><span class="o">=</span><span class="s2">"api@billplz.com"</span> <span class="se">\</span>
  -d <span class="nv">name</span><span class="o">=</span><span class="s2">"Sara"</span> <span class="se">\</span>
  -d <span class="nv">amount</span><span class="o">=</span><span class="s2">"200"</span> <span class="se">\</span>
  -d <span class="nv">reference_1_label</span><span class="o">=</span><span class="s2">"Bank Code"</span> <span class="se">\</span>
  -d <span class="nv">reference_1</span><span class="o">=</span><span class="s2">"BP-FKR01"</span> <span class="se">\</span>
  -d <span class="nv">callback_url</span><span class="o">=</span><span class="s2">"http://example.com/webhook/"</span>
</code></pre>
<blockquote>
<p>Response:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"8X0Iyzaw"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"collection_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"inbmmepb"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"paid"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
  </span><span class="s2">"state"</span><span class="p">:</span><span class="w"> </span><span class="s2">"due"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">200</span><span class="w"> </span><span class="p">,</span><span class="w">
  </span><span class="s2">"paid_amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="s2">"due_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-3-9"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"email"</span><span class="w"> </span><span class="p">:</span><span class="s2">"api@billplz.com"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"mobile"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
  </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"SARA"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://www.billplz.com/bills/8X0Iyzaw"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"reference_1_label"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Bank Code"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"reference_1"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BP-FKR01"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"reference_2_label"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
  </span><span class="s2">"reference_2"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
  </span><span class="s2">"redirect_url"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
  </span><span class="s2">"callback_url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://example.com/webhook/"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Maecenas eu placerat ante."</span><span class="p">,</span><span class="w">
  </span><span class="s2">"paid_at"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Use this feature if you would like to bypass Billplz bill page, and direct payers straight from bill URL to the selected payment gateway seamlessly.</p>

<ol>
<li>Create bills through Billplz API with a present of <code>reference_1_label</code> and <code>reference_1</code>.

<ul>
<li>Always set <code>reference_1_label</code> as <strong>Bank Code</strong></li>
<li>Always set a bank code to <code>reference_1</code>. Please refer to section <a href="#v4-get-payment-gateways">Get Payment Gateways</a> for more details on how to get the bank codes.</li>
</ul></li>
<li>Always append parameter, auto_submit=true to the bill&#39;s URL return from API <a href="#v3-bills-create-a-bill">Create a Bill</a>.

<ul>
<li>Example: <a href="#">https://www.billplz.com/bills/abcdef</a> becomes;</li>
<li><a href="#">https://www.billplz.com/bills/abcdef?auto_submit=true</a></li>
</ul></li>
</ol>

<p>Direct Payment Gateway feature will fallback to Billplz bill page for invalid <code>reference_1</code>, <code>reference_1_label</code>, or the selected payment gateway is not enabled or active.</p>
<h6 id='direct-payment-gateway-bypass-billplz-bill-page-standard-payment-flow'>STANDARD PAYMENT FLOW</h6>
<ol>
<li>Merchant creates bill through API.</li>
<li>Merchant redirects payer from merchant&#39;s page to bill URL (returned from #1).</li>
<li>Payer lands at Billplz page to select payment option.</li>
<li>Payer redirected from Billplz to selected payment gateway to pay.</li>
<li>Payer redirected from payment gateway to <code>redirect_url</code> / receipt page (refer to <a href="#api-flow">API Flow</a>).</li>
</ol>
<h6 id='direct-payment-gateway-bypass-billplz-bill-page-direct-payment-gateway-payment-flow'>DIRECT PAYMENT GATEWAY PAYMENT FLOW</h6>
<ol>
<li>Merchant creates bill through API with a valid bank code</li>
<li>Merchant redirects payer from merchant&#39;s page to bill URL (returned from #1) with extra parameter, <strong>auto_submit=true</strong></li>
<li>Payer lands at selected payment gateway to pay</li>
<li>Payer redirected from payment gateway to <code>redirect_url</code> / receipt page (refer to <a href="#api-flow">API Flow</a>)</li>
</ol>
<h6 id='direct-payment-gateway-bypass-billplz-bill-page-invalid-direct-payment-gateway-payment-flow'>INVALID DIRECT PAYMENT GATEWAY PAYMENT FLOW</h6>
<ol>
<li>Merchant creates bill through API with invalid / inactive bank code</li>
<li>Merchant redirects payer from merchant&#39;s page to bill URL (returned from #1) with extra parameter, auto_submit=true</li>
<li>Payer lands at Billplz page to payment option</li>
<li>Payer redirected from Billplz to selected payment gateway to pay</li>
<li>Payer redirected from payment gateway to redirect_url / receipt page (refer to <a href="#api-flow">API Flow</a>)</li>
</ol>

<aside class="warning">
  Bypass bill page using parameter <code>?auto_submit</code> with value <code>fpx</code> or <code>paypal</code> has been removed.
</aside>

<aside class="notice">
  If an inactive or invalid payment gateway for whatever reasons was submitted, the payment process will land at Billplz page for payer to re-choose a payment option again. (refer to <a href="#direct-payment-gateway-bypass-billplz-bill-page-3d-secure-update-charge-card-invalid-direct-payment-gateway-payment-flow">INVALID DIRECT PAYMENT GATEWAY PAYMENT FLOW</a>).
  <br><br>
  So, do not worry if your internal Payment Gateways are not always up to date.
</aside>
<h1 id='v3'>V3</h1>
<p>This version is not in active development state. No new feature will be introduced in this version.</p>
<h2 id='v3-collections'>Collections</h2>
<p>Collections are where all of your <a href="#v3-bills">Bills</a> are belongs to. Collections can be useful to categorize your bill payment. As an example, you may use Collection to separate a Tuition Fee Collection for September and November collection.</p>
<h3 id='v3-collections-create-a-collection'>Create a Collection</h3>
<p>Billplz API now supports the creation of collection with a split rule feature. The response will contain the collection&#39;s ID that is needed in Bill API, split rule info and fields.</p>

<aside class="notice">
  You can choose to upload a logo to display on your bill template. It will use your company logo otherwise.
</aside>

<blockquote>
<p>Example request:</p>
</blockquote>
<pre class="highlight shell tab-shell"><code><span class="c"># Creates a collection</span>
curl https://www.billplz.com/api/v3/collections <span class="se">\</span>
  -u 73eb57f0-7d4e-42b9-a544-aeac6e4b0f81: <span class="se">\</span>
  -F <span class="nv">title</span><span class="o">=</span><span class="s2">"My First API Collection"</span>
</code></pre>
<blockquote>
<p>Response:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"inbmmepb"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"title"</span><span class="p">:</span><span class="w"> </span><span class="s2">"My First API Collection"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"logo"</span><span class="p">:</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="s2">"thumb_url"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="s2">"avatar_url"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="s2">"split_payment"</span><span class="p">:</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="s2">"email"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="s2">"fixed_cut"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="s2">"variable_cut"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="s2">"split_header"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<blockquote>
<p>Example request with optional arguments:</p>
</blockquote>
<pre class="highlight shell tab-shell"><code>curl https://www.billplz.com/api/v3/collections <span class="se">\</span>
  -u 73eb57f0-7d4e-42b9-a544-aeac6e4b0f81: <span class="se">\</span>
  -F <span class="nv">title</span><span class="o">=</span><span class="s2">"My First API Collection"</span> <span class="se">\</span>
  -F <span class="nv">logo</span><span class="o">=</span>@/Users/Billplz/Documents/uploadPhoto.png <span class="se">\</span>
  -F split_payment[email]<span class="o">=</span><span class="s2">"verified@account.com"</span> <span class="se">\</span>
  -F split_payment[fixed_cut]<span class="o">=</span>100 <span class="se">\</span>
  -F split_payment[split_header]<span class="o">=</span><span class="nb">true</span>
</code></pre>
<blockquote>
<p>Response:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"inbmmepb"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"title"</span><span class="p">:</span><span class="w"> </span><span class="s2">"My First API Collection"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"logo"</span><span class="p">:</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="s2">"thumb_url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://sample.net/assets/uploadPhoto.png"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"avatar_url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://sample.net/assets/uploadPhoto.png"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="s2">"split_payment"</span><span class="p">:</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="s2">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"verified@account.com"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"fixed_cut"</span><span class="p">:</span><span class="w"> </span><span class="mi">100</span><span class="p">,</span><span class="w">
    </span><span class="s2">"variable_cut"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="s2">"split_header"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre><h6 id='v3-collections-create-a-collection-http-request'>HTTP Request</h6>
<p><code>POST https://www.billplz.com/api/v3/collections</code></p>
<h6 id='v3-collections-create-a-collection-required-arguments'>REQUIRED ARGUMENTS</h6>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>title</td>
<td>The collection title. Will be displayed on bill template. String format.</td>
</tr>
</tbody></table>
<h6 id='v3-collections-create-a-collection-optional-arguments'>OPTIONAL ARGUMENTS</h6>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>logo</td>
<td>This image will be resized to avatar (40x40) and thumb (180x180) dimensions. Whitelisted formats are <code>jpg</code>, <code>jpeg</code>, <code>gif</code> and <code>png</code>.</td>
</tr>
<tr>
<td>split_payment[email]</td>
<td>The email address of the split rule&#39;s recipient. (The account must be a verified account.)</td>
</tr>
<tr>
<td>split_payment[fixed_cut]</td>
<td>A positive integer in the smallest currency unit that is going in your account (e.g 100 cents to charge RM 1.00) <br>This field is required if <code>split_payment[variable_cut]</code> is not present.</td>
</tr>
<tr>
<td>split_payment[variable_cut]</td>
<td>Percentage in positive integer format that is going in your account. <br>This field is required if <code>split_payment[fixed_cut]</code> is not present.</td>
</tr>
<tr>
<td>split_payment[split_header]</td>
<td>Boolean value. All bill and receipt templates will show split rule recipient&#39;s infographic if this was set to true.</td>
</tr>
</tbody></table>
<h6 id='v3-collections-create-a-collection-response-parameter'>RESPONSE PARAMETER</h6>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>ID that represents a collection.</td>
</tr>
<tr>
<td>title</td>
<td>The collection&#39;s title in string format.</td>
</tr>
<tr>
<td>logo[thumb_url]</td>
<td>The thumb dimension&#39;s (180x180) URL.</td>
</tr>
<tr>
<td>logo[avatar_url]</td>
<td>The avatar dimension&#39;s (40x40) URL.</td>
</tr>
<tr>
<td>split_payment[email]</td>
<td>The 1st recipient&#39;s email. It only returns the 1st recipient eventhough there is multiple recipients being set. If you wish to have 2 recipients, please refer to V4 <a href="#v4-collections-create-a-collection">Create a Collection</a>.</td>
</tr>
<tr>
<td>split_payment[fixed_cut]</td>
<td>The 1st recipient&#39;s fixed cut in smallest and positive currency unit.</td>
</tr>
<tr>
<td>split_payment[variable_cut]</td>
<td>The 1st recipient&#39;s percentage cut in positive integer format.</td>
</tr>
<tr>
<td>split_payment[split_header]</td>
<td>Boolean value. All bill and receipt templates will show split rule recipient&#39;s infographic if this was set to true.</td>
</tr>
</tbody></table>

<aside class="notice">
  API <code>V4</code> now supports Split Rule for 2 recipients. Please refer <a href="#v4-collections-create-a-collection">API#v4-create-a-collection</a>.
</aside>
<h3 id='v3-collections-get-a-collection'>Get a Collection</h3>
<p>Use this API to query your collection record.</p>

<blockquote>
<p>Example request:</p>
</blockquote>
<pre class="highlight shell tab-shell"><code><span class="c"># Get a collection</span>
curl https://www.billplz.com/api/v3/collections/inbmmepb <span class="se">\</span>
  -u 73eb57f0-7d4e-42b9-a544-aeac6e4b0f81:
</code></pre>
<blockquote>
<p>Response:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"inbmmepb"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"title"</span><span class="p">:</span><span class="w"> </span><span class="s2">"My First API Collection"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"logo"</span><span class="p">:</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="s2">"thumb_url"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="s2">"avatar_url"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="s2">"split_payment"</span><span class="p">:</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="s2">"email"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="s2">"fixed_cut"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="s2">"variable_cut"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="s2">"split_header"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"active"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre><h6 id='v3-collections-get-a-collection-http-request'>HTTP REQUEST</h6>
<p><code>GET https://www.billplz.com/api/v3/collections/{COLLECTION_ID}</code></p>
<h6 id='v3-collections-get-a-collection-url-parameter'>URL PARAMETER</h6>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>COLLECTION_ID</td>
<td>Collection ID returned in Collection object.</td>
</tr>
</tbody></table>
<h6 id='v3-collections-get-a-collection-response-parameter'>RESPONSE PARAMETER</h6>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>ID that represents a collection.</td>
</tr>
<tr>
<td>title</td>
<td>The collection&#39;s title in string format.</td>
</tr>
<tr>
<td>logo[thumb_url]</td>
<td>The thumb dimension&#39;s (180x180) URL.</td>
</tr>
<tr>
<td>logo[avatar_url]</td>
<td>The avatar dimension&#39;s (40x40) URL.</td>
</tr>
<tr>
<td>split_payment[email]</td>
<td>The 1st recipient&#39;s email. It only returns the 1st recipient eventhough there is multiple recipients being set. If you wish to have 2 recipients, please refer to V4 <a href="#v4-collections-create-a-collection">Create a Collection</a>.</td>
</tr>
<tr>
<td>split_payment[fixed_cut]</td>
<td>The 1st recipient&#39;s fixed cut in smallest and positive currency unit.</td>
</tr>
<tr>
<td>split_payment[variable_cut]</td>
<td>The 1st recipient&#39;s percentage cut in positive integer format.</td>
</tr>
<tr>
<td>split_payment[split_header]</td>
<td>Boolean value. All bill and receipt templates will show split rule recipient&#39;s infographic if this was set to true.</td>
</tr>
<tr>
<td>status</td>
<td>Collection&#39;s status, it is either active and inactive.</td>
</tr>
</tbody></table>
<h3 id='v3-collections-get-collection-index'>Get Collection Index</h3>
<p>Use this API to retrieve your collections list. To utilise paging, append a page parameter to the URL e.g. ?page=1. If there are 15 records in the response, you will need to check if there is any more data by fetching the next page, e.g. ?page=2 and continuing this process until no more results are returned.</p>

<blockquote>
<p>Example request:</p>
</blockquote>
<pre class="highlight shell tab-shell"><code><span class="c"># Get collection index</span>
curl https://www.billplz.com/api/v3/collections <span class="se">\</span>
  -u 73eb57f0-7d4e-42b9-a544-aeac6e4b0f81:
</code></pre>
<blockquote>
<p>Response:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"collections"</span><span class="p">:</span><span class="w">
  </span><span class="p">[{</span><span class="w">
    </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"inbmmepb"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"title"</span><span class="p">:</span><span class="w"> </span><span class="s2">"My First API Collection"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"logo"</span><span class="p">:</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="s2">"thumb_url"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="s2">"avatar_url"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="s2">"split_payment"</span><span class="p">:</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="s2">"email"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="s2">"fixed_cut"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="s2">"variable_cut"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="s2">"split_header"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"active"</span><span class="w">
  </span><span class="p">}],</span><span class="w">
  </span><span class="s2">"page"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<blockquote>
<p>Example request with optional arguments:</p>
</blockquote>
<pre class="highlight shell tab-shell"><code><span class="c"># Get collection index</span>
curl https://www.billplz.com/api/v3/collections?page<span class="o">=</span>2&amp;status<span class="o">=</span>active <span class="se">\</span>
  -u 73eb57f0-7d4e-42b9-a544-aeac6e4b0f81:
</code></pre>
<blockquote>
<p>Response:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"collections"</span><span class="p">:</span><span class="w">
  </span><span class="p">[{</span><span class="w">
    </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"inbmmepb"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"title"</span><span class="p">:</span><span class="w"> </span><span class="s2">"My First API Collection"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"logo"</span><span class="p">:</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="s2">"thumb_url"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="s2">"avatar_url"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="s2">"split_payment"</span><span class="p">:</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="s2">"email"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="s2">"fixed_cut"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="s2">"variable_cut"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="s2">"split_header"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"active"</span><span class="w">
  </span><span class="p">}],</span><span class="w">
  </span><span class="s2">"page"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre><h6 id='v3-collections-get-collection-index-http-request'>HTTP REQUEST</h6>
<p><code>GET https://www.billplz.com/api/v3/collections</code></p>
<h6 id='v3-collections-get-collection-index-optional-arguments'>OPTIONAL ARGUMENTS</h6>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>page</td>
<td>Up to 15 collections will be returned in a single API call per specified page. Default to <strong>1</strong> if not present.</td>
</tr>
<tr>
<td>status</td>
<td>Parameter to filter collection&#39;s status, valid value are <code>active</code> and <code>inactive</code>.</td>
</tr>
</tbody></table>
<h3 id='v3-collections-create-an-open-collection'>Create an Open Collection</h3>
<p>Billplz API now supports the creation of open collections (Payment Form) with a split rule feature. The response contains the collection&#39;s attributes, including the payment form URL.</p>

<aside class="notice">
  You can choose to upload a photo to display on your payment form. It uses your company logo otherwise.
</aside>

<blockquote>
<p>Example request:</p>
</blockquote>
<pre class="highlight shell tab-shell"><code><span class="c"># Creates an open collection</span>
curl https://www.billplz.com/api/v3/open_collections <span class="se">\</span>
  -u 73eb57f0-7d4e-42b9-a544-aeac6e4b0f81: <span class="se">\</span>
  -d <span class="nv">title</span><span class="o">=</span><span class="s2">"My First API Open Collection"</span> <span class="se">\</span>
  -d <span class="nv">description</span><span class="o">=</span><span class="s2">"Maecenas eu placerat ante."</span> <span class="se">\</span>
  -d <span class="nv">amount</span><span class="o">=</span>299
</code></pre>
<blockquote>
<p>Response:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0pp87t_6"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"title"</span><span class="p">:</span><span class="w"> </span><span class="s2">"MY FIRST API OPEN COLLECTION"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Maecenas eu placerat ante."</span><span class="p">,</span><span class="w">
  </span><span class="s2">"reference_1_label"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
  </span><span class="s2">"reference_2_label"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
  </span><span class="s2">"email_link"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
  </span><span class="s2">"amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">299</span><span class="p">,</span><span class="w">
  </span><span class="s2">"fixed_amount"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
  </span><span class="s2">"tax"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
  </span><span class="s2">"fixed_quantity"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
  </span><span class="s2">"payment_button"</span><span class="p">:</span><span class="w"> </span><span class="s2">"pay"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"photo"</span><span class="p">:</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="s2">"retina_url"</span><span class="p">:</span><span class="w">  </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="s2">"avatar_url"</span><span class="p">:</span><span class="w">  </span><span class="kc">null</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="s2">"split_payment"</span><span class="p">:</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="s2">"email"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="s2">"fixed_cut"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="s2">"variable_cut"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="s2">"split_header"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="s2">"url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://www.billplz.com/0pp87t_6"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<blockquote>
<p>Example request with optional arguments:</p>
</blockquote>
<pre class="highlight shell tab-shell"><code><span class="c"># Creates a collection</span>
curl https://www.billplz.com/api/v3/open_collections <span class="se">\</span>
  -u 73eb57f0-7d4e-42b9-a544-aeac6e4b0f81: <span class="se">\</span>
  -F <span class="nv">title</span><span class="o">=</span><span class="s2">"My First API Open Collection"</span> <span class="se">\</span>
  -F <span class="nv">description</span><span class="o">=</span><span class="s2">"Maecenas eu placerat ante."</span> <span class="se">\</span>
  -F <span class="nv">fixed_amount</span><span class="o">=</span><span class="nb">false</span> <span class="se">\</span>
  -F <span class="nv">fixed_quantity</span><span class="o">=</span><span class="nb">false</span> <span class="se">\</span>
  -F <span class="nv">payment_button</span><span class="o">=</span><span class="s2">"buy"</span> <span class="se">\</span>
  -F <span class="nv">reference_1_label</span><span class="o">=</span><span class="s2">"ID No"</span> <span class="se">\</span>
  -F <span class="nv">reference_2_label</span><span class="o">=</span><span class="s2">"First Name"</span> <span class="se">\</span>
  -F <span class="nv">email_link</span><span class="o">=</span><span class="s2">"http://www.test.com"</span> <span class="se">\</span>
  -F <span class="nv">tax</span><span class="o">=</span>1 <span class="se">\</span>
  -F <span class="nv">photo</span><span class="o">=</span>@/Users/Billplz/Documents/uploadPhoto.png <span class="se">\</span>
  -F split_payment[email]<span class="o">=</span><span class="s2">"verified@account.com"</span> <span class="se">\</span>
  -F split_payment[variable_cut]<span class="o">=</span>20 <span class="se">\</span>
  -F split_payment[split_header]<span class="o">=</span><span class="nb">true</span>
</code></pre>
<blockquote>
<p>Response:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0pp87t_6"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"title"</span><span class="p">:</span><span class="w"> </span><span class="s2">"MY FIRST API OPEN COLLECTION"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Maecenas eu placerat ante."</span><span class="p">,</span><span class="w">
  </span><span class="s2">"reference_1_label"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ID No"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"reference_2_label"</span><span class="p">:</span><span class="w"> </span><span class="s2">"First Name"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"email_link"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://www.test.com"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"amount"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
  </span><span class="s2">"fixed_amount"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
  </span><span class="s2">"tax"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
  </span><span class="s2">"fixed_quantity"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
  </span><span class="s2">"payment_button"</span><span class="p">:</span><span class="w"> </span><span class="s2">"buy"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"photo"</span><span class="p">:</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="s2">"retina_url"</span><span class="p">:</span><span class="w">  </span><span class="s2">"https://sample.net/assets/uploadPhoto.png"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"avatar_url"</span><span class="p">:</span><span class="w">  </span><span class="s2">"https://sample.net/assets/uploadPhoto.png"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="s2">"split_payment"</span><span class="p">:</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="s2">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"verified@account.com"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"fixed_cut"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="s2">"variable_cut"</span><span class="p">:</span><span class="w"> </span><span class="mi">20</span><span class="p">,</span><span class="w">
    </span><span class="s2">"split_header"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="s2">"url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://www.billplz.com/0pp87t_6"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre><h6 id='v3-collections-create-an-open-collection-http-request'>HTTP REQUEST</h6>
<p><code>POST https://www.billplz.com/api/v3/open_collections</code></p>
<h6 id='v3-collections-create-an-open-collection-required-arguments'>REQUIRED ARGUMENTS</h6>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>title</td>
<td>The collection title. It&#39;s showing up on the payment form. String format. (Max of 50 characters)</td>
</tr>
<tr>
<td>description</td>
<td>The collection description. Will be displayed on payment form. String format. (Max of 200 characters)</td>
</tr>
<tr>
<td>amount</td>
<td>A positive integer in the smallest currency unit (e.g 100 cents to charge RM 1.00) <br> Required if fixed_amount is true; Ignored if fixed_amount is false</td>
</tr>
</tbody></table>
<h6 id='v3-collections-create-an-open-collection-optional-arguments'>OPTIONAL ARGUMENTS</h6>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>fixed_amount</td>
<td>Boolean value. Set this to false for Open Amount. Default value is <code>true</code></td>
</tr>
<tr>
<td>fixed_quantity</td>
<td>Boolean value. Set this to false for Open Quantity. Default value is <code>true</code></td>
</tr>
<tr>
<td>payment_button</td>
<td>Payment button&#39;s text. Available options are <code>buy</code> and <code>pay</code>. Default value is <code>pay</code></td>
</tr>
<tr>
<td>reference_1_label</td>
<td>Label #1 to reconcile payments (Max of 20 characters). <br>Default value is <code>Reference 1</code>.</td>
</tr>
<tr>
<td>reference_2_label</td>
<td>Label #2 to reconcile payments. (Max of 20 characters). <br>Default value is <code>Reference 2</code>.</td>
</tr>
<tr>
<td>email_link</td>
<td>A URL that email to customer after payment is successful.</td>
</tr>
<tr>
<td>tax</td>
<td>Tax rate in positive integer format.</td>
</tr>
<tr>
<td>photo</td>
<td>This image will be resized to retina (Yx960) and avatar (180x180) dimensions. Whitelisted formats are jpg, jpeg, gif and png.</td>
</tr>
<tr>
<td>split_payment[email]</td>
<td>The email address of the split rule&#39;s recipient. (The account must be a verified account.)</td>
</tr>
<tr>
<td>split_payment[fixed_cut]</td>
<td>A positive integer in the smallest currency unit that is going in your account (e.g 100 cents to charge RM 1.00). <br> This field is required if <code>split_payment[variable_cut]</code> is not present</td>
</tr>
<tr>
<td>split_payment[variable_cut]</td>
<td>Percentage in positive integer format that is going in your account. <br>This field is required if <code>split_payment[fixed_cut]</code> is not present</td>
</tr>
<tr>
<td>split_payment[split_header]</td>
<td>Boolean value. All bill and receipt templates will show split rule recipient&#39;s infographic if this was set to true.</td>
</tr>
</tbody></table>
<h6 id='v3-collections-create-an-open-collection-response-parameter'>RESPONSE PARAMETER</h6>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>The collection ID.</td>
</tr>
<tr>
<td>title</td>
<td>The collection&#39;s title.</td>
</tr>
<tr>
<td>description</td>
<td>The collection description.</td>
</tr>
<tr>
<td>reference_1_label</td>
<td>Label #1 to reconcile payments.</td>
</tr>
<tr>
<td>reference_2_label</td>
<td>Label #2 to reconcile payments.</td>
</tr>
<tr>
<td>email_link</td>
<td>A URL that email to customer after payment is successful.</td>
</tr>
<tr>
<td>amount</td>
<td>The collection&#39;s fixed amount to create bill in the smallest currency unit (cents).</td>
</tr>
<tr>
<td>fixed_amount</td>
<td>Boolean value. It returns to <code>false</code> if Open Amount.</td>
</tr>
<tr>
<td>tax</td>
<td>Tax rate in positive integer format.</td>
</tr>
<tr>
<td>fixed_quantity</td>
<td>Boolean value. It returns <code>false</code> if Open Quantity.</td>
</tr>
<tr>
<td>payment_button</td>
<td>Payment button&#39;s text.</td>
</tr>
<tr>
<td>photo[retina_url]</td>
<td>The retina dimension&#39;s (960x960) URL.</td>
</tr>
<tr>
<td>photo[avatar_url]</td>
<td>The avatar dimension&#39;s (180x180) URL.</td>
</tr>
<tr>
<td>split_payment[email]</td>
<td>The 1st recipient&#39;s email. It only returns the 1st recipient eventhough there is multiple recipients being set. If you wish to have 2 recipients, please refer to <a href="#v4-collections-create-an-open-collection">API#v4-create-an-open-collection</a>.</td>
</tr>
<tr>
<td>split_payment[fixed_cut]</td>
<td>The 1st recipient&#39;s fixed cut in smallest and positive currency unit (cents).</td>
</tr>
<tr>
<td>split_payment[variable_cut]</td>
<td>The 1st recipient&#39;s percentage cut in positive integer format.</td>
</tr>
<tr>
<td>split_payment[split_header]</td>
<td>Boolean value. All bill and receipt templates will show split rule recipient&#39;s infographic if this was set to <code>true</code>.</td>
</tr>
<tr>
<td>url</td>
<td>URL to the collection.</td>
</tr>
</tbody></table>

<aside class="notice">
  API <code>V4</code> now supports Split Rule for 2 recipients. Please refer <a href="#v4-create-an-open-collection">API#v4-create-an-open-collection</a>.
</aside>
<h3 id='v3-collections-get-an-open-collection'>Get an Open Collection</h3>
<p>Use this API to query your open collection record.</p>

<blockquote>
<p>Example request:</p>
</blockquote>
<pre class="highlight shell tab-shell"><code><span class="c"># Get an open collection</span>
curl https://www.billplz.com/api/v3/open_collections/0pp87t_6 <span class="se">\</span>
  -u 73eb57f0-7d4e-42b9-a544-aeac6e4b0f81:
</code></pre>
<blockquote>
<p>Response:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0pp87t_6"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"title"</span><span class="p">:</span><span class="w"> </span><span class="s2">"MY FIRST API OPEN COLLECTION"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Maecenas eu placerat ante."</span><span class="p">,</span><span class="w">
  </span><span class="s2">"reference_1_label"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
  </span><span class="s2">"reference_2_label"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
  </span><span class="s2">"email_link"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
  </span><span class="s2">"amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">299</span><span class="p">,</span><span class="w">
  </span><span class="s2">"fixed_amount"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
  </span><span class="s2">"tax"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
  </span><span class="s2">"fixed_quantity"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
  </span><span class="s2">"payment_button"</span><span class="p">:</span><span class="w"> </span><span class="s2">"pay"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"photo"</span><span class="p">:</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="s2">"retina_url"</span><span class="p">:</span><span class="w">  </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="s2">"avatar_url"</span><span class="p">:</span><span class="w">  </span><span class="kc">null</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="s2">"split_payment"</span><span class="p">:</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="s2">"email"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="s2">"fixed_cut"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="s2">"variable_cut"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="s2">"split_header"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="s2">"url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://www.billplz.com/0pp87t_6"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"active"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre><h6 id='v3-collections-get-an-open-collection-http-request'>HTTP REQUEST</h6>
<p><code>GET https://www.billplz.com/api/v3/open_collections/{COLLECTION_ID}</code></p>
<h6 id='v3-collections-get-an-open-collection-url-parameter'>URL PARAMETER</h6>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>COLLECTION_ID</td>
<td>Collection ID returned in Collection object.</td>
</tr>
</tbody></table>
<h6 id='v3-collections-get-an-open-collection-response-parameter'>RESPONSE PARAMETER</h6>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>The collection ID.</td>
</tr>
<tr>
<td>title</td>
<td>The collection&#39;s title.</td>
</tr>
<tr>
<td>description</td>
<td>The collection description.</td>
</tr>
<tr>
<td>reference_1_label</td>
<td>Label #1 to reconcile payments.</td>
</tr>
<tr>
<td>reference_2_label</td>
<td>Label #2 to reconcile payments.</td>
</tr>
<tr>
<td>email_link</td>
<td>A URL that email to customer after payment is successful.</td>
</tr>
<tr>
<td>amount</td>
<td>The collection&#39;s fixed amount to create bill in the smallest currency unit (cents).</td>
</tr>
<tr>
<td>fixed_amount</td>
<td>Boolean value. It returns to <code>false</code> if Open Amount.</td>
</tr>
<tr>
<td>tax</td>
<td>Tax rate in positive integer format.</td>
</tr>
<tr>
<td>fixed_quantity</td>
<td>Boolean value. It returns <code>false</code> if Open Quantity.</td>
</tr>
<tr>
<td>payment_button</td>
<td>Payment button&#39;s text.</td>
</tr>
<tr>
<td>photo[retina_url]</td>
<td>The retina dimension&#39;s (960x960) URL.</td>
</tr>
<tr>
<td>photo[avatar_url]</td>
<td>The avatar dimension&#39;s (180x180) URL.</td>
</tr>
<tr>
<td>split_payment[email]</td>
<td>The 1st recipient&#39;s email. It only returns the 1st recipient eventhough there is multiple recipients being set. If you wish to have 2 recipients, please refer to <a href="#v4-collections-create-an-open-collection">API#v4-create-an-open-collection</a>.</td>
</tr>
<tr>
<td>split_payment[fixed_cut]</td>
<td>The 1st recipient&#39;s fixed cut in smallest and positive currency unit.</td>
</tr>
<tr>
<td>split_payment[variable_cut]</td>
<td>The 1st recipient&#39;s percentage cut in positive integer format.</td>
</tr>
<tr>
<td>split_payment[split_header]</td>
<td>Boolean value. All bill and receipt templates will show split rule recipient&#39;s infographic if this was set to <code>true</code>.</td>
</tr>
<tr>
<td>url</td>
<td>URL to the collection.</td>
</tr>
<tr>
<td>status</td>
<td>Collection&#39;s status, it is either <code>active</code> or <code>inactive</code>.</td>
</tr>
</tbody></table>
<h3 id='v3-collections-get-an-open-collection-index'>Get an Open Collection Index</h3>
<p>Use this API to retrieve your open collections list. To utilise paging, append a page parameter to the URL e.g. ?page=1. If there are 15 records in the response you will need to check if there is any more data by fetching the next page e.g. ?page=2 and continuing this process until no more results are returned.</p>

<blockquote>
<p>Example request:</p>
</blockquote>
<pre class="highlight shell tab-shell"><code><span class="c"># Get an open collection index</span>
curl https://www.billplz.com/api/v3/open_collections <span class="se">\</span>
  -u 73eb57f0-7d4e-42b9-a544-aeac6e4b0f81:
</code></pre>
<blockquote>
<p>Response:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"open_collections"</span><span class="p">:</span><span class="w">
  </span><span class="p">[{</span><span class="w">
    </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0pp87t_6"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"title"</span><span class="p">:</span><span class="w"> </span><span class="s2">"MY FIRST API OPEN COLLECTION"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Maecenas eu placerat ante."</span><span class="p">,</span><span class="w">
    </span><span class="s2">"reference_1_label"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ID No"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"reference_2_label"</span><span class="p">:</span><span class="w"> </span><span class="s2">"First Name"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"email_link"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://www.test.com"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"amount"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="s2">"fixed_amount"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="s2">"tax"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="s2">"fixed_quantity"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="s2">"payment_button"</span><span class="p">:</span><span class="w"> </span><span class="s2">"buy"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"photo"</span><span class="p">:</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="s2">"retina_url"</span><span class="p">:</span><span class="w">  </span><span class="s2">"https://sample.net/assets/uploadPhoto.png"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"avatar_url"</span><span class="p">:</span><span class="w">  </span><span class="s2">"https://sample.net/assets/uploadPhoto.png"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="s2">"split_payment"</span><span class="p">:</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="s2">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"verified@account.com"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"fixed_cut"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="s2">"variable_cut"</span><span class="p">:</span><span class="w"> </span><span class="mi">20</span><span class="p">,</span><span class="w">
      </span><span class="s2">"split_header"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="s2">"url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://www.billplz.com/0pp87t_6"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"active"</span><span class="w">
  </span><span class="p">}],</span><span class="w">
  </span><span class="s2">"page"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<blockquote>
<p>Example request with optional arguments:</p>
</blockquote>
<pre class="highlight shell tab-shell"><code><span class="c"># Get an open collection index</span>
curl https://www.billplz.com/api/v3/open_collections?page<span class="o">=</span>2&amp;status<span class="o">=</span>active <span class="se">\</span>
  -u 73eb57f0-7d4e-42b9-a544-aeac6e4b0f81:
</code></pre>
<blockquote>
<p>Response:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"open_collections"</span><span class="p">:</span><span class="w">
  </span><span class="p">[{</span><span class="w">
    </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0pp87t_6"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"title"</span><span class="p">:</span><span class="w"> </span><span class="s2">"MY FIRST API OPEN COLLECTION"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Maecenas eu placerat ante. Fusce ut neque justo, et aliquet enim. In hac habitasse platea dictumst."</span><span class="p">,</span><span class="w">
    </span><span class="s2">"reference_1_label"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ID No"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"reference_2_label"</span><span class="p">:</span><span class="w"> </span><span class="s2">"First Name"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"email_link"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://www.test.com"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"amount"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="s2">"fixed_amount"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="s2">"tax"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="s2">"fixed_quantity"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="s2">"payment_button"</span><span class="p">:</span><span class="w"> </span><span class="s2">"buy"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"photo"</span><span class="p">:</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="s2">"retina_url"</span><span class="p">:</span><span class="w">  </span><span class="s2">"https://sample.net/assets/uploadPhoto.png"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"avatar_url"</span><span class="p">:</span><span class="w">  </span><span class="s2">"https://sample.net/assets/uploadPhoto.png"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="s2">"split_payment"</span><span class="p">:</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="s2">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"verified@account.com"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"fixed_cut"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="s2">"variable_cut"</span><span class="p">:</span><span class="w"> </span><span class="mi">20</span><span class="p">,</span><span class="w">
      </span><span class="s2">"split_header"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="s2">"url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://www.billplz.com/0pp87t_6"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"active"</span><span class="w">
  </span><span class="p">}],</span><span class="w">
  </span><span class="s2">"page"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre><h6 id='v3-collections-get-an-open-collection-index-http-request'>HTTP REQUEST</h6>
<p><code>GET https://www.billplz.com/api/v3/open_collections</code></p>
<h6 id='v3-collections-get-an-open-collection-index-optional-arguments'>OPTIONAL ARGUMENTS</h6>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>page</td>
<td>Up to 15 open collections will be returned in a single API call per specified page. Default to <strong>1</strong> if not present.</td>
</tr>
<tr>
<td>status</td>
<td>Parameter to filter open collection&#39;s status, valid value are <code>active</code> and <code>inactive</code>.</td>
</tr>
</tbody></table>
<h3 id='v3-collections-deactivate-a-collection'>Deactivate a Collection</h3>
<p>Both <strong>Collection</strong> and <strong>Open Collection</strong> can be deactivated via this API. The API will respond with error messages if the collection cannot be deactivated.</p>

<aside class="notice">
  It will return <code>message: {COLLECTION_ID} cannot be deactivated.</code> if you trying to deactivate an inactive collection.
</aside>

<blockquote>
<p>Example request:</p>
</blockquote>
<pre class="highlight shell tab-shell"><code><span class="c"># Deactivate a collection or open collection</span>
curl -X POST <span class="se">\</span>
https://www.billplz.com/api/v3/collections/qag4fe_o6/deactivate <span class="se">\</span>
  -u 73eb57f0-7d4e-42b9-a544-aeac6e4b0f81:
</code></pre>
<blockquote>
<p>Response:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{}</span><span class="w">
</span></code></pre><h6 id='v3-collections-deactivate-a-collection-http-request'>HTTP REQUEST</h6>
<p><code>https://www.billplz.com/api/v3/collections/{COLLECTION_ID}/deactivate</code></p>
<h6 id='v3-collections-deactivate-a-collection-url-parameter'>URL PARAMETER</h6>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>COLLECTION_ID</td>
<td>Collection ID returned in Collection object.</td>
</tr>
</tbody></table>
<h3 id='v3-collections-activate-a-collection'>Activate a Collection</h3>
<p>Both <strong>Collection</strong> and <strong>Open Collection</strong> can be activated via this API. The API will respond with error messages if the collection cannot be activated.</p>

<aside class="notice">
  It will return <code>message: {COLLECTION_ID} cannot be activated.</code> if you trying to deactivate an active collection.
</aside>

<blockquote>
<p>Example request:</p>
</blockquote>
<pre class="highlight shell tab-shell"><code><span class="c"># Activate a collection or open collection</span>
curl -X POST <span class="se">\</span>
https://www.billplz.com/api/v3/collections/qag4fe_o6/activate <span class="se">\</span>
  -u 73eb57f0-7d4e-42b9-a544-aeac6e4b0f81:
</code></pre>
<blockquote>
<p>Response:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{}</span><span class="w">
</span></code></pre><h6 id='v3-collections-activate-a-collection-http-request'>HTTP REQUEST</h6>
<p><code>https://www.billplz.com/api/v3/collections/{COLLECTION_ID}/activate</code></p>
<h6 id='v3-collections-activate-a-collection-url-parameter'>URL PARAMETER</h6>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>COLLECTION_ID</td>
<td>Collection ID returned in Collection object.</td>
</tr>
</tbody></table>
<h2 id='v3-bills'>Bills</h2>
<p>Bills need to be created inside a <a href="#v4-collections">collection</a>. It must be either <code>Collection</code> or <code>Open Collection</code>. However, only <code>Collection</code> can be used to create a bill via API and <code>Open Collection</code> cannot be used to create a bill via API.</p>
<h3 id='v3-bills-create-a-bill'>Create a Bill</h3>
<p>To create a bill, you would need the collection&#39;s ID. Each bill must be created within a collection. To get your collection ID, visit the collection page on your Billplz account.</p>

<p>The bill&#39;s collection will be set to <code>active</code> automatically.</p>

<aside class="notice">
  You can choose to redirect the customer to bill's URL returned to you.
</aside>

<blockquote>
<p>Example request:</p>
</blockquote>
<pre class="highlight shell tab-shell"><code><span class="c"># Creates a bill for RM 2.00</span>
curl https://www.billplz.com/api/v3/bills <span class="se">\</span>
  -u 73eb57f0-7d4e-42b9-a544-aeac6e4b0f81: <span class="se">\</span>
  -d <span class="nv">collection_id</span><span class="o">=</span>inbmmepb <span class="se">\</span>
  -d <span class="nv">description</span><span class="o">=</span><span class="s2">"Maecenas eu placerat ante."</span> <span class="se">\</span>
  -d <span class="nv">email</span><span class="o">=</span>api@billplz.com <span class="se">\</span>
  -d <span class="nv">name</span><span class="o">=</span><span class="s2">"Sara"</span> <span class="se">\</span>
  -d <span class="nv">amount</span><span class="o">=</span>200 <span class="se">\</span>
  -d <span class="nv">callback_url</span><span class="o">=</span><span class="s2">"http://example.com/webhook/"</span>
</code></pre>
<blockquote>
<p>Response:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"8X0Iyzaw"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"collection_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"inbmmepb"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"paid"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
  </span><span class="s2">"state"</span><span class="p">:</span><span class="w"> </span><span class="s2">"due"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">200</span><span class="w"> </span><span class="p">,</span><span class="w">
  </span><span class="s2">"paid_amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="s2">"due_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-3-9"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"email"</span><span class="w"> </span><span class="p">:</span><span class="s2">"api@billplz.com"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"mobile"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
  </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Sara"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://www.billplz.com/bills/8X0Iyzaw"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"reference_1_label"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Reference 1"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"reference_1"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
  </span><span class="s2">"reference_2_label"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Reference 2"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"reference_2"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
  </span><span class="s2">"redirect_url"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
  </span><span class="s2">"callback_url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://example.com/webhook/"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Maecenas eu placerat ante."</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<blockquote>
<p>Example request with optional arguments:</p>
</blockquote>
<pre class="highlight shell tab-shell"><code><span class="c"># Creates a bill for RM 2.00</span>
curl https://www.billplz.com/api/v3/bills <span class="se">\</span>
  -u 73eb57f0-7d4e-42b9-a544-aeac6e4b0f81: <span class="se">\</span>
  -d <span class="nv">collection_id</span><span class="o">=</span>inbmmepb <span class="se">\</span>
  -d <span class="nv">email</span><span class="o">=</span>api@billplz.com <span class="se">\</span>
  -d <span class="nv">name</span><span class="o">=</span><span class="s2">"Sara"</span> <span class="se">\</span>
  -d <span class="nv">amount</span><span class="o">=</span>200 <span class="se">\</span>
  -d <span class="nv">callback_url</span><span class="o">=</span><span class="s2">"http://example.com/webhook/"</span> <span class="se">\</span>
  -d <span class="nv">description</span><span class="o">=</span><span class="s2">"Maecenas eu placerat ante."</span> <span class="se">\</span>
  -d <span class="nv">due_at</span><span class="o">=</span><span class="s2">"2020-12-31"</span> <span class="se">\</span>
  --data-urlencode <span class="nv">mobile</span><span class="o">=</span><span class="s2">"+60112223333"</span> <span class="se">\</span>
  -d <span class="nv">reference_1_label</span><span class="o">=</span><span class="s2">"First Name"</span> <span class="se">\</span>
  -d <span class="nv">reference_2_label</span><span class="o">=</span><span class="s2">"Last Name"</span> <span class="se">\</span>
  -d <span class="nv">reference_1</span><span class="o">=</span><span class="s2">"Sara"</span> <span class="se">\</span>
  -d <span class="nv">reference_2</span><span class="o">=</span><span class="s2">"Dila"</span> <span class="se">\</span>
  -d <span class="nv">deliver</span><span class="o">=</span><span class="nb">false</span> <span class="se">\</span>
  -d <span class="nv">redirect_url</span><span class="o">=</span><span class="s2">"http://example.com/redirect/"</span>
</code></pre>
<blockquote>
<p>Response:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"8X0Iyzaw"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"collection_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"inbmmepb"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"paid"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
  </span><span class="s2">"state"</span><span class="p">:</span><span class="w"> </span><span class="s2">"due"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">200</span><span class="w"> </span><span class="p">,</span><span class="w">
  </span><span class="s2">"paid_amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="s2">"due_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2020-12-31"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"email"</span><span class="w"> </span><span class="p">:</span><span class="s2">"api@billplz.com"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"mobile"</span><span class="p">:</span><span class="w"> </span><span class="s2">"+60112223333"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Sara"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://www.billplz.com/bills/8X0Iyzaw"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"reference_1_label"</span><span class="p">:</span><span class="w"> </span><span class="s2">"First Name"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"reference_1"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Sara"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"reference_2_label"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Last Name"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"reference_2"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Dila"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"redirect_url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://example.com/redirect/"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"callback_url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://example.com/webhook/"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Maecenas eu placerat ante."</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre><h6 id='v3-bills-create-a-bill-http-request'>HTTP REQUEST</h6>
<p><code>POST https://www.billplz.com/api/v3/bills</code></p>
<h6 id='v3-bills-create-a-bill-required-arguments'>REQUIRED ARGUMENTS</h6>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>collection_id</td>
<td>The collection ID. A string.</td>
</tr>
<tr>
<td>email</td>
<td>The email address of the bill&#39;s recipient (Email is required if mobile is not present).</td>
</tr>
<tr>
<td>mobile</td>
<td>Recipient&#39;s mobile number. Be sure that all mobile numbers include country code, area code and number without spaces or dashes. (e.g., <code>+60122345678</code> or <code>60122345678</code>). Use Google libphonenumber library to help. Mobile is required if email is not present.</td>
</tr>
<tr>
<td>name</td>
<td>Bill&#39;s recipient name. Useful for identification on recipient part. (Max of 255 characters).</td>
</tr>
<tr>
<td>amount</td>
<td>A positive integer in the smallest currency unit (e.g 100 cents to charge RM 1.00).</td>
</tr>
<tr>
<td>callback_url</td>
<td>Web hook URL to be called after payment&#39;s transaction completed. It will POST a Bill object.</td>
</tr>
<tr>
<td>description</td>
<td>The bill&#39;s description. Will be displayed on bill template. String format (Max of 200 characters).</td>
</tr>
</tbody></table>
<h6 id='v3-bills-create-a-bill-optional-arguments'>OPTIONAL ARGUMENTS</h6>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>due_at</td>
<td>Due date for the bill. The format <code>YYYY-MM-DD</code>, default value is today. Year range is <strong>19xx</strong> to <strong>2xxx</strong></td>
</tr>
<tr>
<td>redirect_url</td>
<td>URL to redirect the customer after payment completed. It will do a GET to <code>redirect_url</code> together with bill&#39;s status and ID.</td>
</tr>
<tr>
<td>deliver</td>
<td>Boolean value to set email and SMS (if mobile is present) delivery. Default value is <code>false</code>. <strong><em>SMS is subjected to charges depending on subscribed plan</em></strong>.</td>
</tr>
<tr>
<td>reference_1_label</td>
<td>Label #1 to reconcile payments (Max of 20 characters). <br> Default value is <code>Reference 1</code>.</td>
</tr>
<tr>
<td>reference_1</td>
<td>Value for <code>reference_1_label</code> (Max of 120 characters).</td>
</tr>
<tr>
<td>reference_2_label</td>
<td>Label #2 to reconcile payments (Max of 20 characters). <br> Default value is <code>Reference 2</code>.</td>
</tr>
<tr>
<td>reference_2</td>
<td>Value for <code>reference_2_label</code> (Max of 120 characters).</td>
</tr>
</tbody></table>
<h6 id='v3-bills-create-a-bill-response-parameter'>RESPONSE PARAMETER</h6>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>Bill ID that represents a bill.</td>
</tr>
<tr>
<td>url</td>
<td>URL to the bill.</td>
</tr>
</tbody></table>

<aside class="notice">
  SMS will be ignored if your account's credit balance is insufficient.
</aside>

<aside class="success">
  Sending bill via email is free!
</aside>
<h3 id='v3-bills-get-a-bill'>Get a Bill</h3>
<p>At any given time, you can request a bill to check on the status. It will return the bill object.</p>

<aside class="warning">
  The usage of this API is not recommended as it may subject to our <a href="#rate-limit">Rate Limit</a> policy.
</aside>

<aside class="success">
  Use <a href="#payment-completion-x-signature-redirect-url">X Signature Redirect</a> and <a href="#payment-completion-x-signature-callback-url">X Signature Callback</a> to validate the response parameter.
</aside>

<blockquote>
<p>Example request:</p>
</blockquote>
<pre class="highlight shell tab-shell"><code><span class="c"># Get a bill</span>
curl https://www.billplz.com/api/v3/bills/8X0Iyzaw <span class="se">\</span>
  -u 73eb57f0-7d4e-42b9-a544-aeac6e4b0f81:
</code></pre>
<blockquote>
<p>Response:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"8X0Iyzaw"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"collection_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"inbmmepb"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"paid"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
  </span><span class="s2">"state"</span><span class="p">:</span><span class="w"> </span><span class="s2">"due"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">200</span><span class="w"> </span><span class="p">,</span><span class="w">
  </span><span class="s2">"paid_amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="s2">"due_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2020-12-31"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"email"</span><span class="w"> </span><span class="p">:</span><span class="s2">"api@billplz.com"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"mobile"</span><span class="p">:</span><span class="w"> </span><span class="s2">"+60112223333"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"SARA"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://www.billplz.com/bills/8X0Iyzaw"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"reference_1_label"</span><span class="p">:</span><span class="w"> </span><span class="s2">"First Name"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"reference_1"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Sara"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"reference_2_label"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Last Name"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"reference_2"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Dila"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"redirect_url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://example.com/redirect/"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"callback_url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://example.com/webhook/"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Maecenas eu placerat ante."</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre><h6 id='v3-bills-get-a-bill-http-request'>HTTP REQUEST</h6>
<p><code>GET https://www.billplz.com/api/v3/bills/{BILL_ID}</code></p>
<h6 id='v3-bills-get-a-bill-url-parameter'>URL PARAMETER</h6>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>BILL_ID</td>
<td>Bill ID returned in Bill object.</td>
</tr>
</tbody></table>
<h6 id='v3-bills-get-a-bill-response-parameter'>RESPONSE PARAMETER</h6>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>paid</td>
<td>Boolean value to tell if a bill has paid. It will return <code>false</code> for due bills; <code>true</code> for paid bills.</td>
</tr>
<tr>
<td>state</td>
<td>State that representing the bill&#39;s status, possible states are <code>due</code>, <code>paid</code> and <code>deleted</code>.</td>
</tr>
</tbody></table>

<aside class="warning">
  ABUSING THIS API WILL RESULT TO YOUR IP ADDRESS WILL BE BLOCKED.
</aside>
<h3 id='v3-bills-delete-a-bill'>Delete a Bill</h3>
<p>Only due bill can be deleted. Paid bill can&#39;t be deleted. Deleting a bill is useful in a scenario where there&#39;s a time limitation to payment.</p>

<p>Example usage would be to show a timer for customer to complete payment within 10 minutes with a grace period of 5 minutes. After 15 minutes of bill creation, get bill status and delete if bill is still due.</p>

<blockquote>
<p>Example Request:</p>
</blockquote>
<pre class="highlight shell tab-shell"><code><span class="c"># Delete a Bill</span>
curl -X DELETE https://www.billplz.com/api/v3/bills/8X0Iyzaw <span class="se">\</span>
  -u 73eb57f0-7d4e-42b9-a544-aeac6e4b0f81:
</code></pre>
<blockquote>
<p>Response:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{}</span><span class="w">
</span></code></pre><h6 id='v3-bills-delete-a-bill-http-request'>HTTP REQUEST</h6>
<p><code>DELETE https://www.billplz.com/api/v3/bills/{BILL_ID}</code></p>
<h6 id='v3-bills-delete-a-bill-url-parameter'>URL PARAMETER</h6>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>BILL_ID</td>
<td>Bill ID returned in Bill object.</td>
</tr>
</tbody></table>

<aside class="notice">
  Deleted bill will always reappeared once the customer make payment. Attempting to delete paid bill will throw 422 http status code.
</aside>
<h2 id='v3-registration-check'>Registration Check</h2><h3 id='v3-registration-check-by-bank-account-number'>By Bank Account Number</h3>
<p>At any given time, you can request to check on a registration status by bank account number.</p>

<blockquote>
<p>Example Request:</p>
</blockquote>
<pre class="highlight shell tab-shell"><code>curl https://www.billplz.com/api/v3/check/bank_account_number/1234567890 <span class="se">\</span>
  -u 73eb57f0-7d4e-42b9-a544-aeac6e4b0f81:
</code></pre>
<blockquote>
<p>Response:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"verified"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre><h6 id='v3-registration-check-by-bank-account-number-http-request'>HTTP REQUEST</h6>
<p><code>GET https://www.billplz.com/api/v3/check/bank_account_number/{BANKcurl https://www.billplz.com/api/v3/check/bank_account_number/1234567890 \
  -u 73eb57f0-7d4e-42b9-a544-aeac6e4b0f81:_ACCOUNT_NUMBER}</code></p>
<h6 id='v3-registration-check-by-bank-account-number-url-parameter'>URL PARAMETER</h6>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>BANK_ACCOUNT_NUMBER</td>
<td>Bank account number to check.</td>
</tr>
</tbody></table>
<h6 id='v3-registration-check-by-bank-account-number-response-parameter'>RESPONSE PARAMETER</h6>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>name</td>
<td>State that representing the bank account number&#39;s status, possible states are <code>verified</code>, <code>unverified</code> and <code>not found</code>.</td>
</tr>
</tbody></table>

<aside class="notice">
   This registration check is only for checking the status for Company-Registered account. For Bank Direct Verification status, use <a href="#v3-bank-account-direct-verification-get-a-bank-account">Get a Bank Account</a> API instead.
</aside>
<h2 id='v3-transactions'>Transactions</h2><h3 id='v3-transactions-get-transaction-index'>Get Transaction Index</h3>
<p>Use this API to retrieve your bill&#39;s transactions. To utilise paging, append a page parameter to the URL e.g. ?page=1. If there are 15 records in the response you will need to check if there is any more data by fetching the next page e.g. ?page=2 and continuing this process until no more results are returned.</p>

<blockquote>
<p>Example Request:</p>
</blockquote>
<pre class="highlight shell tab-shell"><code><span class="c"># Get transaction index</span>
curl https://www.billplz.com/api/v3/bills/inbmmepb/transactions <span class="se">\</span>
  -u 73eb57f0-7d4e-42b9-a544-aeac6e4b0f81:
</code></pre>
<blockquote>
<p>Response:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"bill_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"inbmmepb"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"transactions"</span><span class="p">:</span><span class="w">
  </span><span class="p">[{</span><span class="w">
    </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"60793D4707CD"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"completed"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"completed_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-02-23T12:49:23.612+08:00"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"payment_channel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"FPX"</span><span class="w">
  </span><span class="p">},{</span><span class="w">
    </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"28F3D3194138"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"failed"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"completed_at"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="s2">"payment_channel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"FPX"</span><span class="w">
  </span><span class="p">}],</span><span class="w">
  </span><span class="s2">"page"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<blockquote>
<p>Example request with optional arguments:</p>
</blockquote>
<pre class="highlight shell tab-shell"><code>curl https://www.billplz.com/api/v3/bills/inbmmepb/transactions?page<span class="o">=</span>1&amp;status<span class="o">=</span>completed <span class="se">\</span>
  -u 73eb57f0-7d4e-42b9-a544-aeac6e4b0f81:
</code></pre>
<blockquote>
<p>Response:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"bill_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"inbmmepb"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"transactions"</span><span class="p">:</span><span class="w">
  </span><span class="p">[{</span><span class="w">
    </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"60793D4707CD"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"completed"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"completed_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-02-23T12:49:23.612+08:00"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"payment_channel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"FPX"</span><span class="w">
  </span><span class="p">}],</span><span class="w">
  </span><span class="s2">"page"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre><h6 id='v3-transactions-get-transaction-index-http-request'>HTTP REQUEST</h6>
<p><code>GET https://www.billplz.com/api/v3/bills/{BILL_ID}/transactions</code></p>
<h6 id='v3-transactions-get-transaction-index-url-parameter'>URL PARAMETER</h6>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>page</td>
<td>Up to 15 transactions will be returned in a single API call per specified page. Default to <em>1</em> if not present.</td>
</tr>
<tr>
<td>status</td>
<td>Parameter to filter transaction&#39;s status. <br>Valid values are <code>pending</code>, <code>completed</code> and <code>failed</code>.</td>
</tr>
</tbody></table>
<h6 id='v3-transactions-get-transaction-index-response-parameter'>RESPONSE PARAMETER</h6>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>bill_id</td>
<td>ID that represent the bill.</td>
</tr>
<tr>
<td>id</td>
<td>ID that represent the transaction.</td>
</tr>
<tr>
<td>status</td>
<td>Status that representing the transaction&#39;s status, possible statuses are <code>pending</code>, <code>completed</code> and <code>failed</code>.</td>
</tr>
<tr>
<td>completed_at</td>
<td>Datetime format when the transaction is completed. ISO 8601 format is used.</td>
</tr>
<tr>
<td>payment_channel</td>
<td>Payment channel that the transaction is made.<br>Possible values are <code>FPX</code>, <code>CIMB</code>, <code>TWOCTWOP</code>, <code>OCBC</code>, <code>BOOST</code>, <code>SENANGPAY</code>, <code>ISUPAYPAL</code>, and <code>PAYPAL</code>.</td>
</tr>
</tbody></table>
<h2 id='v3-payment-methods'>Payment Methods</h2><h3 id='v3-payment-methods-get-payment-method-index'>Get Payment Method Index</h3>
<p>The get payment methods index API allows to retrieve all available payment methods that you can enable / disable to a collection.</p>

<blockquote>
<p>Example Request:</p>
</blockquote>
<pre class="highlight shell tab-shell"><code><span class="c"># Get payment method index</span>
curl https://www.billplz.com/api/v3/collections/0idsxnh5/payment_methods <span class="se">\</span>
  -u 73eb57f0-7d4e-42b9-a544-aeac6e4b0f81:
</code></pre>
<blockquote>
<p>Response:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"payment_methods"</span><span class="p">:</span><span class="w">
  </span><span class="p">[{</span><span class="w">
    </span><span class="s2">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"paypal"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"PAYPAL"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"active"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
  </span><span class="p">},{</span><span class="w">
    </span><span class="s2">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"fpx"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Online Banking"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"active"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="w">
  </span><span class="p">}]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre><h6 id='v3-payment-methods-get-payment-method-index-http-request'>HTTP REQUEST</h6>
<p><code>GET https://www.billplz.com/api/v3/collections/{COLLECTION_ID}/payment_methods</code></p>
<h6 id='v3-payment-methods-get-payment-method-index-url-parameter'>URL PARAMETER</h6>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>COLLECTION_ID</td>
<td>ID that represents the collection where the payment methods belong to.</td>
</tr>
</tbody></table>
<h6 id='v3-payment-methods-get-payment-method-index-response-parameter'>RESPONSE PARAMETER</h6>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>code</td>
<td>Unique payment method&#39;s specific code, in string value.</td>
</tr>
<tr>
<td>name</td>
<td>Payment method&#39;s general name, in string value.</td>
</tr>
<tr>
<td>active</td>
<td>The API will return payment method&#39;s status for a collection, in boolean value. It returns true if this payment method has enabled for the collection.</td>
</tr>
</tbody></table>
<h3 id='v3-payment-methods-update-payment-methods'>Update Payment Methods</h3>
<p>Pass the payment method&#39;s code to the API to update your collection&#39;s payment methods.</p>

<p>Invalid payment method code will be ignored.</p>

<blockquote>
<p>Example Request:</p>
</blockquote>
<pre class="highlight shell tab-shell"><code><span class="c"># Update payment methods</span>
curl -X PUT -d payment_methods[][code]<span class="o">=</span><span class="s1">'fpx'</span> -d payment_methods[][code]<span class="o">=</span><span class="s1">'paypal'</span> https://www.billplz.com/api/v3/collections/0idsxnh5/payment_methods <span class="se">\</span>
  -u 73eb57f0-7d4e-42b9-a544-aeac6e4b0f81:
</code></pre>
<blockquote>
<p>Response:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"payment_methods"</span><span class="p">:</span><span class="w">
  </span><span class="p">[{</span><span class="w">
    </span><span class="s2">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"paypal"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"PAYPAL"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"active"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
  </span><span class="p">},{</span><span class="w">
    </span><span class="s2">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"fpx"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Online Banking"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"active"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
  </span><span class="p">}]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre><h6 id='v3-payment-methods-update-payment-methods-http-request'>HTTP REQUEST</h6>
<p><code>PUT https://www.billplz.com/api/v3/collections/{COLLECTION_ID}/payment_methods</code></p>
<h6 id='v3-payment-methods-update-payment-methods-url-parameter'>URL PARAMETER</h6>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>COLLECTION_ID</td>
<td>ID that represents the collection where the payment methods belong to.</td>
</tr>
<tr>
<td>payment_methods</td>
<td>Array that contains all codes in hash format.  <br><code>code</code> in hash represents the unique payment method&#39;s code that you would like to enable. <br>Do not pass the code if you would like to disable a payment method. <br>Ex, <code>&quot;payment_methods&quot;=&gt;[{&quot;code&quot;=&gt;&quot;fpx&quot;}]</code> would enable fpx (Online Banking) and disable paypal (PAYPAL). <br>Possible values are <code>billplz</code>, <code>twoctwop</code>, <code>fpx</code>, <code>boost</code>, <code>ocbc</code>, <code>senangpay</code>, and <code>isupaypal</code>.</td>
</tr>
</tbody></table>
<h6 id='v3-payment-methods-update-payment-methods-response-parameter'>RESPONSE PARAMETER</h6>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>code</td>
<td>Unique payment method&#39;s specific code, in string value.</td>
</tr>
<tr>
<td>name</td>
<td>Payment method&#39;s general name, in string value.</td>
</tr>
<tr>
<td>active</td>
<td>Payment method current&#39;s status for the collection, in boolean value. It is true if this payment method has enabled for the collection.</td>
</tr>
</tbody></table>
<h2 id='v3-bank-account-direct-verification'>Bank Account Direct Verification</h2><h3 id='v3-bank-account-direct-verification-get-bank-account-index'>Get Bank Account Index</h3>
<p>Query Billplz Bank Account Direct Verification Service by passing list of account numbers arguement. This API will only return latest, matched bank accounts.</p>

<blockquote>
<p>Example Request:</p>
</blockquote>
<pre class="highlight shell tab-shell"><code><span class="c"># Get bank account index</span>
curl <span class="s1">'https://www.billplz.com/api/v3/bank_verification_services?account_numbers\[\]=1234567890&amp;account_numbers\[\]=2234567890&amp;account_numbers\[\]=3234567890'</span> <span class="se">\</span>
  -u 73eb57f0-7d4e-42b9-a544-aeac6e4b0f81:
</code></pre>
<blockquote>
<p>Response:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"bank_verification_services"</span><span class="p">:</span><span class="w">
  </span><span class="p">[{</span><span class="w">
    </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"sara"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"id_no"</span><span class="p">:</span><span class="w"> </span><span class="s2">"820909101001"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"acc_no"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1234567890"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"MBBEMYKL"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"organization"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="s2">"authorization_date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-12-03"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"pending"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"processed_at"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="s2">"rejected_desc"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
  </span><span class="p">},{</span><span class="w">
    </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"dila"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"id_no"</span><span class="p">:</span><span class="w"> </span><span class="s2">"820909101002"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"acc_no"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2234567890"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"MBBEMYKL"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"organization"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="s2">"authorization_date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-12-03"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"verified"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"processed_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-12-05"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"rejected_desc"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
  </span><span class="p">}]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre><h6 id='v3-bank-account-direct-verification-get-bank-account-index-http-request'>HTTP REQUEST</h6>
<p><code>GET https://www.billplz.com/api/v3/bank_verification_services?account_numbers=[]</code></p>
<h6 id='v3-bank-account-direct-verification-get-bank-account-index-url-parameter'>URL PARAMETER</h6>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>account_numbers</td>
<td>Up to 10 bank accounts found will be returned in a single API call. In array format.</td>
</tr>
</tbody></table>
<h6 id='v3-bank-account-direct-verification-get-bank-account-index-response-parameter'>RESPONSE PARAMETER</h6>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>name</td>
<td>Bank account holder&#39;s name, in string value.</td>
</tr>
<tr>
<td>id_no</td>
<td>Bank account&#39;s IC Number/SSM Registration Number, in string value.</td>
</tr>
<tr>
<td>acc_no</td>
<td>Bank account number, in string value.</td>
</tr>
<tr>
<td>code</td>
<td>Bank Code that represents bank, in string value.</td>
</tr>
<tr>
<td>organization</td>
<td>Boolean value that tell if the bank account is registered as organization.</td>
</tr>
<tr>
<td>authorization_date</td>
<td>Request date for authorization, in format <code>YYYY-MM-DD</code>. Example, <code>2012-12-30</code>.</td>
</tr>
<tr>
<td>status</td>
<td>Status that representing the authorization status, possible statuses are <code>pending</code>, <code>verified</code> and <code>rejected</code>.</td>
</tr>
<tr>
<td>processed_at</td>
<td>Date format when the authorization is performed. In format <code>YYYY-MM-DD</code>. Example, <code>2012-12-30</code>. It returns <code>null</code> if authorization has not been made.</td>
</tr>
<tr>
<td>reject_desc</td>
<td>Reason why the authorization was rejected, in string value.</td>
</tr>
</tbody></table>
<h3 id='v3-bank-account-direct-verification-get-a-bank-account'>Get a Bank Account</h3>
<p>Query Billplz Bank Account Direct Verification Service by passing single account number arguement. This API will only return latest, single matched bank account.</p>

<blockquote>
<p>Example Request:</p>
</blockquote>
<pre class="highlight shell tab-shell"><code><span class="c"># Get a bank account</span>
curl https://www.billplz.com/api/v3/bank_verification_services/1234567890 <span class="se">\</span>
  -u 73eb57f0-7d4e-42b9-a544-aeac6e4b0f81:
</code></pre>
<blockquote>
<p>Response:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"sara"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"id_no"</span><span class="p">:</span><span class="w"> </span><span class="s2">"820909101001"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"acc_no"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1234567890"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"MBBEMYKL"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"organization"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
  </span><span class="s2">"authorization_date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-12-03"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"pending"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"processed_at"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
  </span><span class="s2">"rejected_desc"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre><h6 id='v3-bank-account-direct-verification-get-a-bank-account-http-request'>HTTP REQUEST</h6>
<p><code>GET https://www.billplz.com/api/v3/bank_verification_services/{BANK_ACCOUNT_NUMBER}</code></p>
<h6 id='v3-bank-account-direct-verification-get-a-bank-account-url-parameter'>URL PARAMETER</h6>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>BANK_ACCOUNT_NUMBER</td>
<td>Bank account number to query.</td>
</tr>
</tbody></table>
<h6 id='v3-bank-account-direct-verification-get-a-bank-account-response-parameter'>RESPONSE PARAMETER</h6>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>name</td>
<td>Bank account holder&#39;s name, in string value.</td>
</tr>
<tr>
<td>id_no</td>
<td>Bank account&#39;s IC Number/SSM Registration Number, in string value.</td>
</tr>
<tr>
<td>acc_no</td>
<td>Bank account number, in string value.</td>
</tr>
<tr>
<td>code</td>
<td>Bank Code that represents bank, in string value.</td>
</tr>
<tr>
<td>organization</td>
<td>Boolean value that tell if the bank account is registered as organization.</td>
</tr>
<tr>
<td>authorization_date</td>
<td>Request date for authorization, in format <code>YYYY-MM-DD</code>. Example: <code>2012-12-30</code>.</td>
</tr>
<tr>
<td>status</td>
<td>Status that representing the authorization status, possible statuses are <code>pending</code>, <code>verified</code> and <code>rejected</code>.</td>
</tr>
<tr>
<td>processed_at</td>
<td>Date format when the authorization is performed. In format <code>YYYY-MM-DD</code>. Example, <code>2012-12-30</code> It returns <code>null</code> if authorization has not been made.</td>
</tr>
<tr>
<td>reject_desc</td>
<td>Reason why the authorization was rejected, in string value.</td>
</tr>
</tbody></table>
<h3 id='v3-bank-account-direct-verification-create-a-bank-account'>Create a Bank Account</h3>
<p>Request Bank Account Direct Verification Service by creating bank records through this API. You need to wait for 3 working days after this request for the account to be verified.</p>

<aside class="notice">
  Create a Bank account may subject to charges depending on your subscribed plan.
</aside>

<blockquote>
<p>Example Request:</p>
</blockquote>
<pre class="highlight shell tab-shell"><code><span class="c"># Create a bank account</span>
curl https://www.billplz.com/api/v3/bank_verification_services <span class="se">\</span>
  -u 73eb57f0-7d4e-42b9-a544-aeac6e4b0f81: <span class="se">\</span>
  -d <span class="nv">name</span><span class="o">=</span><span class="s2">"Insan Jaya"</span> <span class="se">\</span>
  -d <span class="nv">id_no</span><span class="o">=</span><span class="s2">"91234567890"</span> <span class="se">\</span>
  -d <span class="nv">acc_no</span><span class="o">=</span><span class="s2">"999988887777"</span> <span class="se">\</span>
  -d <span class="nv">code</span><span class="o">=</span><span class="s2">"MBBEMYKL"</span> <span class="se">\</span>
  -d <span class="nv">organization</span><span class="o">=</span><span class="nb">true</span>
</code></pre>
<blockquote>
<p>Response:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Insan Jaya"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"id_no"</span><span class="p">:</span><span class="w"> </span><span class="s2">"91234567890"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"acc_no"</span><span class="p">:</span><span class="w"> </span><span class="s2">"999988887777"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"MBBEMYKL"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"organization"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
  </span><span class="s2">"authorization_date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-07-03"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"pending"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"processed_at"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
  </span><span class="s2">"rejected_desc"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre><h6 id='v3-bank-account-direct-verification-create-a-bank-account-http-request'>HTTP REQUEST</h6>
<p><code>POST https://www.billplz.com/api/v3/bank_verification_services</code></p>
<h6 id='v3-bank-account-direct-verification-create-a-bank-account-required-arguments'>REQUIRED ARGUMENTS</h6>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>name</td>
<td>Bank account holder&#39;s name, in string value.</td>
</tr>
<tr>
<td>id_no</td>
<td>Bank account&#39;s IC Number/SSM Registration Number, in string value.</td>
</tr>
<tr>
<td>acc_no</td>
<td>Bank account number, in string value.</td>
</tr>
<tr>
<td>code</td>
<td>Bank Code that represents bank, in string value and case sensitive. <br>Please refer to the Bank Code table below.</td>
</tr>
<tr>
<td>organization</td>
<td>Boolean value that tell if the bank account is registered as organization. Default to <code>false</code> if this parameter is missing.</td>
</tr>
</tbody></table>
<h6 id='v3-bank-account-direct-verification-create-a-bank-account-response-parameter'>RESPONSE PARAMETER</h6>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>name</td>
<td>Bank account holder&#39;s name, in string value.</td>
</tr>
<tr>
<td>id_no</td>
<td>Bank account&#39;s IC Number/SSM Registration Number, in string value.</td>
</tr>
<tr>
<td>acc_no</td>
<td>Bank account number, in string value.</td>
</tr>
<tr>
<td>code</td>
<td>Bank Code that represents bank, in string value.</td>
</tr>
<tr>
<td>organization</td>
<td>Boolean value that tell if the bank account is registered as organization.</td>
</tr>
<tr>
<td>authorization_date</td>
<td>Request date for authorization, in format <code>YYYY-MM-DD</code>. Example: <code>2012-12-30</code></td>
</tr>
<tr>
<td>status</td>
<td>Status that representing the authorization status, possible statuses are <code>pending</code>, <code>verified</code> and <code>rejected</code>.</td>
</tr>
<tr>
<td>processed_at</td>
<td>Date format when the authorization is performed. In format <code>YYYY-MM-DD</code>. Example: <code>2012-12-30</code>. It returns <code>null</code> if authorization has not been made.</td>
</tr>
<tr>
<td>reject_desc</td>
<td>Reason why the authorization was rejected, in string value.</td>
</tr>
</tbody></table>
<h4 id='v3-bank-account-direct-verification-create-a-bank-account-bank-code-table'>Bank Code Table</h4>
<table><thead>
<tr>
<th>Bank</th>
<th>Code</th>
</tr>
</thead><tbody>
<tr>
<td>Affin Bank Berhad</td>
<td>PHBMMYKL</td>
</tr>
<tr>
<td>AGROBANK / BANK PERTANIAN MALAYSIA BERHAD</td>
<td>BPMBMYKL</td>
</tr>
<tr>
<td>Alliance Bank Malaysia Berhad</td>
<td>MFBBMYKL</td>
</tr>
<tr>
<td>AL RAJHI BANKING &amp; INVESTMENT CORPORATION (MALAYSIA) BERHAD</td>
<td>RJHIMYKL</td>
</tr>
<tr>
<td>AmBank (M) Berhad</td>
<td>ARBKMYKL</td>
</tr>
<tr>
<td>Bank Islam Malaysia Berhad</td>
<td>BIMBMYKL</td>
</tr>
<tr>
<td>Bank Kerjasama Rakyat Malaysia Berhad</td>
<td>BKRMMYKL</td>
</tr>
<tr>
<td>Bank Muamalat (Malaysia) Berhad</td>
<td>BMMBMYKL</td>
</tr>
<tr>
<td>Bank Simpanan Nasional Berhad</td>
<td>BSNAMYK1</td>
</tr>
<tr>
<td>CIMB Bank Berhad</td>
<td>CIBBMYKL</td>
</tr>
<tr>
<td>Citibank Berhad</td>
<td>CITIMYKL</td>
</tr>
<tr>
<td>Hong Leong Bank Berhad</td>
<td>HLBBMYKL</td>
</tr>
<tr>
<td>HSBC Bank Malaysia Berhad</td>
<td>HBMBMYKL</td>
</tr>
<tr>
<td>Kuwait Finance House</td>
<td>KFHOMYKL</td>
</tr>
<tr>
<td>Maybank / Malayan Banking Berhad</td>
<td>MBBEMYKL</td>
</tr>
<tr>
<td>OCBC Bank (Malaysia) Berhad</td>
<td>OCBCMYKL</td>
</tr>
<tr>
<td>Public Bank Berhad</td>
<td>PBBEMYKL</td>
</tr>
<tr>
<td>RHB Bank Berhad</td>
<td>RHBBMYKL</td>
</tr>
<tr>
<td>Standard Chartered Bank (Malaysia) Berhad</td>
<td>SCBLMYKX</td>
</tr>
<tr>
<td>United Overseas Bank (Malaysia) Berhad</td>
<td>UOVBMYKL</td>
</tr>
</tbody></table>
<h2 id='v3-get-fpx-banks'>Get FPX Banks</h2>
<p>Use this API to get a list of bank codes that need for setting reference_1 in <a href="#direct-payment-gateway-bypass-billplz-bill-page">API#bypass-billplz-bill-page</a></a>.</p>

<p>This API only return list of bank codes for online banking, if you looking for a complete payment gateways&#39; bank code, please use <a href="#v4-get-payment-gateways">API#get-payment-gateways</a> instead.</p>

<aside class="success">
  Pull the latest bank list on <strong>hourly</strong> basis.
</aside>

<blockquote>
<p>Example Request:</p>
</blockquote>
<pre class="highlight shell tab-shell"><code><span class="c"># Get FPX Banks</span>
curl https://www.billplz.com/api/v3/fpx_banks <span class="se">\</span>
  -u 73eb57f0-7d4e-42b9-a544-aeac6e4b0f81:
</code></pre>
<blockquote>
<p>Response:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"banks"</span><span class="p">:</span><span class="w">
  </span><span class="p">[{</span><span class="w">
    </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"MBU0227"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"active"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
    </span><span class="p">},{</span><span class="w">
    </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"OCBC0229"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"active"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="w">
    </span><span class="p">},{</span><span class="w">
    </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"MB2U0227"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"active"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
  </span><span class="p">}]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre><h6 id='v3-get-fpx-banks-create-a-bank-account-bank-code-table-http-request'>HTTP REQUEST</h6>
<p><code>GET https://www.billplz.com/api/v3/fpx_banks</code></p>
<h6 id='v3-get-fpx-banks-create-a-bank-account-bank-code-table-response-parameter'>RESPONSE PARAMETER</h6>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>name</td>
<td>This is the bank code that need to set to <code>reference_1</code>. Case sensitive.</td>
</tr>
<tr>
<td>active</td>
<td><code>true</code> or <code>false</code> boolean that represents bank&#39;s availability. If an inactive bank was set to <code>reference_1</code>, the payment process will show Billplz page for payer to choose another bank from the list.</td>
</tr>
</tbody></table>
<h4 id='v3-get-fpx-banks-create-a-bank-account-fpx-bank-abbreviations'>Fpx Bank Abbreviations</h4>
<table><thead>
<tr>
<th>Bank Code</th>
<th>Bank Name</th>
</tr>
</thead><tbody>
<tr>
<td>ABMB0212</td>
<td>Alliance Bank</td>
</tr>
<tr>
<td>ABB0233</td>
<td>Affin Bank</td>
</tr>
<tr>
<td>AMBB0209</td>
<td>AmBank</td>
</tr>
<tr>
<td>BCBB0235</td>
<td>CIMB Clicks</td>
</tr>
<tr>
<td>BIMB0340</td>
<td>Bank Islam</td>
</tr>
<tr>
<td>BKRM0602</td>
<td>Bank Rakyat</td>
</tr>
<tr>
<td>BMMB0341</td>
<td>Bank Muamalat</td>
</tr>
<tr>
<td>BSN0601</td>
<td>BSN</td>
</tr>
<tr>
<td>CIT0217</td>
<td>Citibank Berhad</td>
</tr>
<tr>
<td>HLB0224</td>
<td>Hong Leong Bank</td>
</tr>
<tr>
<td>HSBC0223</td>
<td>HSBC Bank</td>
</tr>
<tr>
<td>KFH0346</td>
<td>Kuwait Finance House</td>
</tr>
<tr>
<td>MB2U0227</td>
<td>Maybank2u</td>
</tr>
<tr>
<td>MBB0227</td>
<td>Maybank2E</td>
</tr>
<tr>
<td>MBB0228</td>
<td>Maybank2E</td>
</tr>
<tr>
<td>OCBC0229</td>
<td>OCBC Bank</td>
</tr>
<tr>
<td>PBB0233</td>
<td>Public Bank</td>
</tr>
<tr>
<td>RHB0218</td>
<td>RHB Now</td>
</tr>
<tr>
<td>SCB0216</td>
<td>Standard Chartered</td>
</tr>
<tr>
<td>UOB0226</td>
<td>UOB Bank</td>
</tr>
<tr>
<td>TEST0001*</td>
<td>Test 0001</td>
</tr>
<tr>
<td>TEST0002*</td>
<td>Test 0002</td>
</tr>
<tr>
<td>TEST0003*</td>
<td>Test 0003</td>
</tr>
<tr>
<td>TEST0004*</td>
<td>Test 0004</td>
</tr>
<tr>
<td>TEST0021*</td>
<td>Test 0021</td>
</tr>
<tr>
<td>TEST0022*</td>
<td>Test 0022</td>
</tr>
<tr>
<td>TEST0023*</td>
<td>Test 0023</td>
</tr>
</tbody></table>

<p>* Only applicable in staging environment.</p>
<h1 id='v4'>V4</h1>
<p>This version is in active development state. New feature will be introduced in this version.</p>
<h2 id='v4-collections'>Collections</h2>
<p>Collections are where all of your <a href="#v3-bills">Bills</a> are belongs to. Collections can be useful to categorize your bill payment. As an example, you may use Collection to separate a Tuition Fee Collection for September and November collection.</p>
<h3 id='v4-collections-create-a-collection'>Create a Collection</h3>
<p>Billplz API now support creation of collection with 2 split rules feature, the response will contain the collection&#39;s ID that is needed in Bill API, split rules info and fields</p>

<aside class="warning">
  Collection with custom logo support are removed starting in <code>V4</code>
</aside>

<blockquote>
<p>Example Request:</p>
</blockquote>
<pre class="highlight shell tab-shell"><code><span class="c"># Creates a collection</span>
curl https://www.billplz.com/api/v4/collections <span class="se">\</span>
  -u 73eb57f0-7d4e-42b9-a544-aeac6e4b0f81: <span class="se">\</span>
  -F <span class="nv">title</span><span class="o">=</span><span class="s2">"My First V4 API Collection"</span>
</code></pre>
<blockquote>
<p>Response:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"inbmmepb"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"title"</span><span class="p">:</span><span class="w"> </span><span class="s2">"My First V4 API Collection"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"logo"</span><span class="p">:</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="s2">"thumb_url"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="s2">"avatar_url"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="s2">"split_header"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
  </span><span class="s2">"split_payments"</span><span class="p">:</span><span class="w"> </span><span class="p">[]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<blockquote>
<p>Example request with optional arguments:</p>
</blockquote>
<pre class="highlight shell tab-shell"><code>curl https://www.billplz.com/api/v4/collections <span class="se">\</span>
  -u 73eb57f0-7d4e-42b9-a544-aeac6e4b0f81: <span class="se">\</span>
  -F <span class="nv">title</span><span class="o">=</span><span class="s2">"My First V4 API Collection"</span><span class="se">\</span>
  -F split_payments[][email]<span class="o">=</span><span class="s2">"verified@account.com"</span> <span class="se">\</span>
  -F split_payments[][fixed_cut]<span class="o">=</span>100 <span class="se">\</span>
  -F split_payments[][variable_cut]<span class="o">=</span>2<span class="se">\</span>
  -F split_payments[][stack_order]<span class="o">=</span>0<span class="se">\</span>
  -F split_payments[][email]<span class="o">=</span><span class="s2">"verified2@account.com"</span> <span class="se">\</span>
  -F split_payments[][fixed_cut]<span class="o">=</span>200 <span class="se">\</span>
  -F split_payments[][variable_cut]<span class="o">=</span>3<span class="se">\</span>
  -F split_payments[][stack_order]<span class="o">=</span>1
</code></pre>
<blockquote>
<p>Response:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"inbmmepb"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"title"</span><span class="p">:</span><span class="w"> </span><span class="s2">"My First V4 API Collection"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"logo"</span><span class="p">:</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="s2">"thumb_url"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="s2">"avatar_url"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="s2">"split_header"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
  </span><span class="s2">"split_payments"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="s2">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"verified@account.com"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"fixed_cut"</span><span class="p">:</span><span class="w"> </span><span class="mi">100</span><span class="p">,</span><span class="w">
      </span><span class="s2">"variable_cut"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
      </span><span class="s2">"stack_order"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="s2">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"verified2@account.com"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"fixed_cut"</span><span class="p">:</span><span class="w"> </span><span class="mi">200</span><span class="p">,</span><span class="w">
      </span><span class="s2">"variable_cut"</span><span class="p">:</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w">
      </span><span class="s2">"stack_order"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="w">
    </span><span class="p">}</span><span class="w">
   </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre><h6 id='v4-collections-create-a-collection-fpx-bank-abbreviations-http-request'>HTTP REQUEST</h6>
<p><code>POST https://www.billplz.com/api/v4/collections</code></p>
<h6 id='v4-collections-create-a-collection-fpx-bank-abbreviations-required-arguments'>REQUIRED ARGUMENTS</h6>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>title</td>
<td>The collection title. Will be displayed on bill template. String format.</td>
</tr>
</tbody></table>
<h6 id='v4-collections-create-a-collection-fpx-bank-abbreviations-optional-arguments'>OPTIONAL ARGUMENTS</h6>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>split_payments[][email]</td>
<td>The email address of the split rule&#39;s recipient (The account must be a verified account).</td>
</tr>
<tr>
<td>split_payments[][fixed_cut]</td>
<td>A positive integer in the smallest currency unit that is going in your account (e.g 100 cents to charge RM 1.00). <br>This field is required if <code>split_payment[variable_cut]</code> is not present.</td>
</tr>
<tr>
<td>split_payments[][variable_cut]</td>
<td>Percentage in positive integer format that is going in your account. <br>This field is required if <code>split_payment[fixed_cut]</code> is not present.</td>
</tr>
<tr>
<td>split_payments[][stack_order]</td>
<td>Integer format that defines the sequence of the split rule recipients. <br>This field is required and must be in correct order starts from 0 and increment by 1 subsequently if you want to set a split rule. <br>This input is crucial to determine a precise recipient&#39;s order.</td>
</tr>
<tr>
<td>split_header</td>
<td>Boolean value. All bill and receipt templates will show split rule recipient&#39;s infographic if this was set to <code>true</code>.</td>
</tr>
</tbody></table>
<h6 id='v4-collections-create-a-collection-fpx-bank-abbreviations-response-parameter'>RESPONSE PARAMETER</h6>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>ID that represents a collection.</td>
</tr>
<tr>
<td>title</td>
<td>The collection&#39;s title in string format.</td>
</tr>
<tr>
<td>logo[thumb_url]</td>
<td>The thumb dimension&#39;s (180x180) URL.</td>
</tr>
<tr>
<td>logo[avatar_url]</td>
<td>The avatar dimension&#39;s (40x40) URL.</td>
</tr>
<tr>
<td>split_header</td>
<td>Boolean value. All bill and receipt templates will show split rule recipient&#39;s infographic if this was set to <code>true</code>.</td>
</tr>
<tr>
<td>split_payments</td>
<td>Array that contains all split rule recipients in hash format.</td>
</tr>
<tr>
<td>email</td>
<td>in hash represents the recipient&#39;s email.</td>
</tr>
<tr>
<td>fixed_cut</td>
<td>in hash represents the recipient&#39;s fixed cut in smallest and positive currency unit.</td>
</tr>
<tr>
<td>variable_cut</td>
<td>The recipient&#39;s percentage cut in positive integer format.</td>
</tr>
<tr>
<td>stack_order</td>
<td>The order of the recipient defined in split rules.</td>
</tr>
</tbody></table>
<h3 id='v4-collections-get-a-collection'>Get a Collection</h3>
<p>Use this API to query your collection record.</p>

<blockquote>
<p>Example request:</p>
</blockquote>
<pre class="highlight shell tab-shell"><code><span class="c"># Get a collection</span>
curl https://www.billplz.com/api/v4/collections/inbmmepb <span class="se">\</span>
-u 73eb57f0-7d4e-42b9-a544-aeac6e4b0f81:
</code></pre>
<blockquote>
<p>Response:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"inbmmepb"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"title"</span><span class="p">:</span><span class="w"> </span><span class="s2">"My First API Collection"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"logo"</span><span class="p">:</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="s2">"thumb_url"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="s2">"avatar_url"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="s2">"split_header"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
  </span><span class="s2">"split_payments"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="s2">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"verified@account.com"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"fixed_cut"</span><span class="p">:</span><span class="w"> </span><span class="mi">100</span><span class="p">,</span><span class="w">
      </span><span class="s2">"variable_cut"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
      </span><span class="s2">"stack_order"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="s2">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"verified2@account.com"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"fixed_cut"</span><span class="p">:</span><span class="w"> </span><span class="mi">200</span><span class="p">,</span><span class="w">
      </span><span class="s2">"variable_cut"</span><span class="p">:</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w">
      </span><span class="s2">"stack_order"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="w">
    </span><span class="p">}</span><span class="w">
   </span><span class="p">],</span><span class="w">
  </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"active"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre><h6 id='v4-collections-get-a-collection-fpx-bank-abbreviations-http-request'>HTTP REQUEST</h6>
<p><code>GET https://www.billplz.com/api/v4/collections/{COLLECTION_ID}</code></p>
<h6 id='v4-collections-get-a-collection-fpx-bank-abbreviations-response-parameter'>RESPONSE PARAMETER</h6>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>ID that represents a collection.</td>
</tr>
<tr>
<td>title</td>
<td>The collection&#39;s title in string format.</td>
</tr>
<tr>
<td>logo[thumb_url]</td>
<td>The thumb dimension&#39;s (180x180) URL.</td>
</tr>
<tr>
<td>logo[avatar_url]</td>
<td>The avatar dimension&#39;s (40x40) URL.</td>
</tr>
<tr>
<td>split_header</td>
<td>Boolean value. All bill and receipt templates will show split rule recipient&#39;s infographic if this was set to <code>true</code>.</td>
</tr>
<tr>
<td>split_payments</td>
<td>Array that contains all split rule recipients in hash format. <br><code>email</code> in hash represents the recipient&#39;s email. <br><code>fixed_cut</code> in hash represents the recipient&#39;s fixed cut in smallest and positive currency unit. <br><code>variable_cut</code> is the recipient&#39;s percentage cut in positive integer format.<br><code>stack_order</code> is the order of the recipient defined in split rules.</td>
</tr>
<tr>
<td>status</td>
<td>Collection&#39;s status, it is either <code>active</code> and <code>inactive</code>.</td>
</tr>
</tbody></table>

<aside class="notice">
   It will return <code>404</code> status code, and a message of <code>RecordNotFound</code> if the collection you trying to query is not exists.
</aside>
<h3 id='v4-collections-get-collection-index'>Get Collection Index</h3>
<p>Use this API to retrieve your collections list. To utilise paging, append a page parameter to the URL e.g. ?page=1. If there are 15 records in the response you will need to check if there is any more data by fetching the next page e.g. ?page=2 and continuing this process until no more results are returned.</p>

<blockquote>
<p>Example request:</p>
</blockquote>
<pre class="highlight shell tab-shell"><code><span class="c"># Get collection index</span>
curl https://www.billplz.com/api/v4/collections <span class="se">\</span>
  -u 73eb57f0-7d4e-42b9-a544-aeac6e4b0f81:
</code></pre>
<blockquote>
<p>Response:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"collections"</span><span class="p">:</span><span class="w">
  </span><span class="p">[{</span><span class="w">
    </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"inbmmepb"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"title"</span><span class="p">:</span><span class="w"> </span><span class="s2">"My First API Collection"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"logo"</span><span class="p">:</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="s2">"thumb_url"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="s2">"avatar_url"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="s2">"split_header"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="s2">"split_payments"</span><span class="p">:</span><span class="w"> </span><span class="p">[],</span><span class="w">
    </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"active"</span><span class="w">
  </span><span class="p">}],</span><span class="w">
  </span><span class="s2">"page"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<blockquote>
<p>Example request with optional arguments:</p>
</blockquote>
<pre class="highlight shell tab-shell"><code><span class="c"># Get collection index</span>
curl https://www.billplz.com/api/v4/collections?page<span class="o">=</span>2&amp;status<span class="o">=</span>active <span class="se">\</span>
  -u 73eb57f0-7d4e-42b9-a544-aeac6e4b0f81:
</code></pre>
<blockquote>
<p>Response:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"collections"</span><span class="p">:</span><span class="w">
  </span><span class="p">[{</span><span class="w">
    </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"inbmmepb"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"title"</span><span class="p">:</span><span class="w"> </span><span class="s2">"My First API Collection"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"logo"</span><span class="p">:</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="s2">"thumb_url"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="s2">"avatar_url"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="s2">"split_header"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="s2">"split_payments"</span><span class="p">:</span><span class="w"> </span><span class="p">[],</span><span class="w">
    </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"active"</span><span class="w">
  </span><span class="p">}],</span><span class="w">
  </span><span class="s2">"page"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre><h6 id='v4-collections-get-collection-index-fpx-bank-abbreviations-http-request'>HTTP REQUEST</h6>
<p><code>GET https://www.billplz.com/api/v4/collections</code></p>
<h6 id='v4-collections-get-collection-index-fpx-bank-abbreviations-optional-arguments'>OPTIONAL ARGUMENTS</h6>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>page</td>
<td>Up to 15 collections will be returned in a single API call per specified page. Default to <strong>1</strong> if not present.</td>
</tr>
<tr>
<td>status</td>
<td>Parameter to filter collection&#39;s status, valid value are <code>active</code> and <code>inactive</code>.</td>
</tr>
</tbody></table>
<h3 id='v4-collections-create-an-open-collection'>Create an Open Collection</h3>
<p>Billplz API now support creation of open collections (Payment Form) with 2 split rule recipients feature, the response will contain the collection&#39;s attributes, including the payment form URL.</p>

<blockquote>
<p>Example request:</p>
</blockquote>
<pre class="highlight shell tab-shell"><code><span class="c"># Creates an open collection</span>
curl https://www.billplz.com/api/v4/open_collections <span class="se">\</span>
  -u 73eb57f0-7d4e-42b9-a544-aeac6e4b0f81: <span class="se">\</span>
  -d <span class="nv">title</span><span class="o">=</span><span class="s2">"My First API Open Collection"</span> <span class="se">\</span>
  -d <span class="nv">description</span><span class="o">=</span><span class="s2">"Maecenas eu placerat ante."</span> <span class="se">\</span>
  -d <span class="nv">amount</span><span class="o">=</span>299
</code></pre>
<blockquote>
<p>Response:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0pp87t_6"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"title"</span><span class="p">:</span><span class="w"> </span><span class="s2">"MY FIRST API OPEN COLLECTION"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Maecenas eu placerat ante."</span><span class="p">,</span><span class="w">
  </span><span class="s2">"reference_1_label"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
  </span><span class="s2">"reference_2_label"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
  </span><span class="s2">"email_link"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
  </span><span class="s2">"amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">299</span><span class="p">,</span><span class="w">
  </span><span class="s2">"fixed_amount"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
  </span><span class="s2">"tax"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
  </span><span class="s2">"fixed_quantity"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
  </span><span class="s2">"payment_button"</span><span class="p">:</span><span class="w"> </span><span class="s2">"pay"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"photo"</span><span class="p">:</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="s2">"retina_url"</span><span class="p">:</span><span class="w">  </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="s2">"avatar_url"</span><span class="p">:</span><span class="w">  </span><span class="kc">null</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="s2">"split_header"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
  </span><span class="s2">"split_payments"</span><span class="p">:</span><span class="w"> </span><span class="p">[],</span><span class="w">
  </span><span class="s2">"url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://www.billplz.com/0pp87t_6"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<blockquote>
<p>Example request with optional arguments:</p>
</blockquote>
<pre class="highlight shell tab-shell"><code><span class="c"># Creates a collection</span>
curl https://www.billplz.com/api/v4/open_collections <span class="se">\</span>
  -u 73eb57f0-7d4e-42b9-a544-aeac6e4b0f81: <span class="se">\</span>
  -F <span class="nv">title</span><span class="o">=</span><span class="s2">"My First API Open Collection"</span> <span class="se">\</span>
  -F <span class="nv">description</span><span class="o">=</span><span class="s2">"Maecenas eu placerat ante."</span> <span class="se">\</span>
  -F <span class="nv">fixed_amount</span><span class="o">=</span><span class="nb">false</span> <span class="se">\</span>
  -F <span class="nv">fixed_quantity</span><span class="o">=</span><span class="nb">false</span> <span class="se">\</span>
  -F <span class="nv">payment_button</span><span class="o">=</span><span class="s2">"buy"</span> <span class="se">\</span>
  -F <span class="nv">reference_1_label</span><span class="o">=</span><span class="s2">"ID No"</span> <span class="se">\</span>
  -F <span class="nv">reference_2_label</span><span class="o">=</span><span class="s2">"First Name"</span> <span class="se">\</span>
  -F <span class="nv">email_link</span><span class="o">=</span><span class="s2">"http://www.test.com"</span> <span class="se">\</span>
  -F <span class="nv">tax</span><span class="o">=</span>1 <span class="se">\</span>
  -F <span class="nv">photo</span><span class="o">=</span>@/Users/Billplz/Documents/uploadPhoto.png <span class="se">\</span>
  -F <span class="nv">split_header</span><span class="o">=</span><span class="nb">true</span> <span class="se">\</span>
  -F split_payments[][email]<span class="o">=</span><span class="s2">"verified@account.com"</span> <span class="se">\</span>
  -F split_payments[][variable_cut]<span class="o">=</span>20 <span class="se">\</span>
  -F split_payments[][stack_order]<span class="o">=</span>0
</code></pre>
<blockquote>
<p>Response:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0pp87t_6"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"title"</span><span class="p">:</span><span class="w"> </span><span class="s2">"MY FIRST API OPEN COLLECTION"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Maecenas eu placerat ante."</span><span class="p">,</span><span class="w">
  </span><span class="s2">"reference_1_label"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ID No"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"reference_2_label"</span><span class="p">:</span><span class="w"> </span><span class="s2">"First Name"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"email_link"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://www.test.com"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"amount"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
  </span><span class="s2">"fixed_amount"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
  </span><span class="s2">"tax"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
  </span><span class="s2">"fixed_quantity"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
  </span><span class="s2">"payment_button"</span><span class="p">:</span><span class="w"> </span><span class="s2">"buy"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"photo"</span><span class="p">:</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="s2">"retina_url"</span><span class="p">:</span><span class="w">  </span><span class="s2">"https://sample.net/assets/uploadPhoto.png"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"avatar_url"</span><span class="p">:</span><span class="w">  </span><span class="s2">"https://sample.net/assets/uploadPhoto.png"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="s2">"split_header"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
  </span><span class="s2">"split_payments"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="s2">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"verified@account.com"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"fixed_cut"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="s2">"variable_cut"</span><span class="p">:</span><span class="w"> </span><span class="mi">20</span><span class="p">,</span><span class="w">
      </span><span class="s2">"stack_order"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">],</span><span class="w">
  </span><span class="s2">"url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://www.billplz.com/0pp87t_6"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre><h6 id='v4-collections-create-an-open-collection-fpx-bank-abbreviations-http-request'>HTTP REQUEST</h6>
<p><code>POST https://www.billplz.com/api/v4/open_collections</code></p>
<h6 id='v4-collections-create-an-open-collection-fpx-bank-abbreviations-required-arguments'>REQUIRED ARGUMENTS</h6>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>title</td>
<td>The collection title. Will be displayed on payment form. String format (Max of 50 characters).</td>
</tr>
<tr>
<td>description</td>
<td>The collection description. Will be displayed on payment form. String format (Max of 200 characters).</td>
</tr>
<tr>
<td>amount</td>
<td>A positive integer in the smallest currency unit (e.g 100 cents to charge RM 1.00). <br>Required if <code>fixed_amount</code> is <code>true</code>; Ignored if <code>fixed_amount</code> is <code>false</code>.</td>
</tr>
</tbody></table>
<h6 id='v4-collections-create-an-open-collection-fpx-bank-abbreviations-optional-arguments'>OPTIONAL ARGUMENTS</h6>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>fixed_amount</td>
<td>Boolean value. Set <code>fixed_amount</code> to <code>false</code> for Open Amount. Default value is <code>true</code>.</td>
</tr>
<tr>
<td>fixed_quantity</td>
<td>Boolean value. Set <code>fixed_quantity</code> to <code>false</code> for Open Quantity. Default value is <code>true</code>.</td>
</tr>
<tr>
<td>payment_button</td>
<td>Payment button&#39;s text. Available options are <code>buy</code> and <code>pay</code>. Default value is <code>pay</code>.</td>
</tr>
<tr>
<td>reference_1_label</td>
<td>Label #1 to reconcile payments (Max of 20 characters). <br>Default value is <code>Reference 1</code>.</td>
</tr>
<tr>
<td>reference_2_label</td>
<td>Label #2 to reconcile payments (Max of 20 characters). <br>Default value is <code>Reference 2</code>.</td>
</tr>
<tr>
<td>email_link</td>
<td>A URL that email to customer after payment is successful.</td>
</tr>
<tr>
<td>tax</td>
<td>Tax rate in positive integer format.</td>
</tr>
<tr>
<td>photo</td>
<td>This image will be resized to retina (960x960) and avatar (180x180) dimensions. Whitelisted formats are <code>jpg</code>, <code>jpeg</code>, <code>gif</code> and <code>png</code>.</td>
</tr>
<tr>
<td>split_payments[][email]</td>
<td>The email address of the split rule&#39;s recipient (The account must be a verified account).</td>
</tr>
<tr>
<td>split_payments[][fixed_cut]</td>
<td>A positive integer in the smallest currency unit that is going in your account (e.g 100 cents to charge RM 1.00) <br>This field is required if <code>split_payment[variable_cut]</code> is not present.</td>
</tr>
<tr>
<td>split_payments[][variable_cut]</td>
<td>Percentage in positive integer format that is going in your account. <br>This field is required if <code>split_payment[fixed_cut]</code> is not present.</td>
</tr>
<tr>
<td>split_payments[][stack_order]</td>
<td>Integer format that defines the sequence of the split rule recipients. <br>This field is required and must be in correct order starts from 0 and increment by 1 subsequently if you want to set a split rule. <br>This input is crucial to determine a precise recipient&#39;s order.</td>
</tr>
<tr>
<td>split_header</td>
<td>Boolean value. All bill and receipt templates will show split rule recipient&#39;s infographic if this was set to <code>true</code>.</td>
</tr>
</tbody></table>
<h6 id='v4-collections-create-an-open-collection-fpx-bank-abbreviations-response-parameter'>RESPONSE PARAMETER</h6>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>The collection ID.</td>
</tr>
<tr>
<td>title</td>
<td>The collection&#39;s title.</td>
</tr>
<tr>
<td>description</td>
<td>The collection description.</td>
</tr>
<tr>
<td>reference_1_label</td>
<td>Label #1 to reconcile payments.</td>
</tr>
<tr>
<td>reference_2_label</td>
<td>Label #2 to reconcile payments.</td>
</tr>
<tr>
<td>email_link</td>
<td>A URL that email to customer after payment is successful.</td>
</tr>
<tr>
<td>amount</td>
<td>The collection&#39;s fixed amount to create bill in the smallest currency unit.</td>
</tr>
<tr>
<td>fixed_amount</td>
<td>Boolean value. It returns to <code>false</code> if Open Amount.</td>
</tr>
<tr>
<td>tax</td>
<td>Tax rate in positive integer format.</td>
</tr>
<tr>
<td>fixed_quantity</td>
<td>Boolean value. It returns <code>false</code> if Open Quantity.</td>
</tr>
<tr>
<td>payment_button</td>
<td>Payment button&#39;s text.</td>
</tr>
<tr>
<td>photo[retina_url]</td>
<td>The retina dimension&#39;s (960x960) URL.</td>
</tr>
<tr>
<td>photo[avatar_url]</td>
<td>The avatar dimension&#39;s (180x180) URL.</td>
</tr>
<tr>
<td>split_header</td>
<td>Boolean value. All bill and receipt templates will show split rule recipient&#39;s infographic if this was set to <code>true</code>.</td>
</tr>
<tr>
<td>split_payments</td>
<td>Array that contains all split rule recipients in hash format. <br><code>email</code> in hash represents the recipient&#39;s email. <br><code>fixed_cut</code> in hash represents the recipient&#39;s fixed cut in smallest and positive currency unit. <br><code>variable_cut</code> is the recipient&#39;s percentage cut in positive integer format. <br><code>stack_order</code> is the order of the recipient defined in split rules.</td>
</tr>
<tr>
<td>url</td>
<td>URL to the collection.</td>
</tr>
</tbody></table>
<h3 id='v4-collections-get-an-open-collection'>Get an Open Collection</h3>
<p>Use this API to query your open collection record.</p>

<blockquote>
<p>Example request:</p>
</blockquote>
<pre class="highlight shell tab-shell"><code><span class="c"># Get an open collection</span>
curl https://www.billplz.com/api/v4/open_collections/0pp87t_6 <span class="se">\</span>
  -u 73eb57f0-7d4e-42b9-a544-aeac6e4b0f81:
</code></pre>
<blockquote>
<p>Response:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0pp87t_6"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"title"</span><span class="p">:</span><span class="w"> </span><span class="s2">"MY FIRST API OPEN COLLECTION"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Maecenas eu placerat ante. Fusce ut neque justo, et aliquet enim. In hac habitasse platea dictumst."</span><span class="p">,</span><span class="w">
  </span><span class="s2">"reference_1_label"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
  </span><span class="s2">"reference_2_label"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
  </span><span class="s2">"email_link"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
  </span><span class="s2">"amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">299</span><span class="p">,</span><span class="w">
  </span><span class="s2">"fixed_amount"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
  </span><span class="s2">"tax"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
  </span><span class="s2">"fixed_quantity"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
  </span><span class="s2">"payment_button"</span><span class="p">:</span><span class="w"> </span><span class="s2">"pay"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"photo"</span><span class="p">:</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="s2">"retina_url"</span><span class="p">:</span><span class="w">  </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="s2">"avatar_url"</span><span class="p">:</span><span class="w">  </span><span class="kc">null</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="s2">"split_header"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
  </span><span class="s2">"split_payments"</span><span class="p">:</span><span class="w"> </span><span class="p">[],</span><span class="w">
  </span><span class="s2">"url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://www.billplz.com/0pp87t_6"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"active"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre><h6 id='v4-collections-get-an-open-collection-fpx-bank-abbreviations-http-request'>HTTP REQUEST</h6>
<p><code>GET https://www.billplz.com/api/v4/open_collections/{COLLECTION_ID}</code></p>
<h6 id='v4-collections-get-an-open-collection-fpx-bank-abbreviations-response-parameter'>RESPONSE PARAMETER</h6>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>The collection ID.</td>
</tr>
<tr>
<td>title</td>
<td>The collection&#39;s title.</td>
</tr>
<tr>
<td>description</td>
<td>The collection description.</td>
</tr>
<tr>
<td>reference_1_label</td>
<td>Label #1 to reconcile payments.</td>
</tr>
<tr>
<td>reference_2_label</td>
<td>Label #2 to reconcile payments.</td>
</tr>
<tr>
<td>email_link</td>
<td>A URL that email to customer after payment is successful.</td>
</tr>
<tr>
<td>amount</td>
<td>The collection&#39;s fixed amount to create bill in the smallest currency unit.</td>
</tr>
<tr>
<td>fixed_amount</td>
<td>Boolean value. It returns to <code>false</code> if Open Amount.</td>
</tr>
<tr>
<td>tax</td>
<td>Tax rate in positive integer format.</td>
</tr>
<tr>
<td>fixed_quantity</td>
<td>Boolean value. It returns <code>false</code> if Open Quantity.</td>
</tr>
<tr>
<td>payment_button</td>
<td>Payment button&#39;s text.</td>
</tr>
<tr>
<td>photo[retina_url]</td>
<td>The retina dimension&#39;s (960x960) URL.</td>
</tr>
<tr>
<td>photo[avatar_url]</td>
<td>The avatar dimension&#39;s (180x180) URL.</td>
</tr>
<tr>
<td>split_header</td>
<td>Boolean value. All bill and receipt templates will show split rule recipient&#39;s infographic if this was set to <code>true</code>.</td>
</tr>
<tr>
<td>split_payments</td>
<td>Array that contains all split rule recipients in hash format. <br><code>email</code> in hash represents the recipient&#39;s email. <br><code>fixed_cut</code> in hash represents the recipient&#39;s fixed cut in smallest and positive currency unit. <br><code>variable_cut</code> is the recipient&#39;s percentage cut in positive integer format. <br><code>stack_order</code> is the order of the recipient defined in split rules.</td>
</tr>
<tr>
<td>url</td>
<td>URL to the collection.</td>
</tr>
<tr>
<td>status</td>
<td>Collection&#39;s status, it is either <code>active</code> and <code>inactive</code>.</td>
</tr>
</tbody></table>

<aside class="notice">
  It will return 404 status code, and a message of RecordNotFound if the open collection you trying to query is not exists.
</aside>
<h3 id='v4-collections-get-open-collection-index'>Get Open Collection Index</h3>
<p>Use this API to retrieve your open collections list. To utilise paging, append a page parameter to the URL e.g. ?page=1. If there are 15 records in the response you will need to check if there is any more data by fetching the next page e.g. ?page=2 and continuing this process until no more results are returned.</p>

<blockquote>
<p>Example request:</p>
</blockquote>
<pre class="highlight shell tab-shell"><code><span class="c"># Get open collection index</span>
curl https://www.billplz.com/api/v4/open_collections <span class="se">\</span>
  -u 73eb57f0-7d4e-42b9-a544-aeac6e4b0f81:
</code></pre>
<blockquote>
<p>Response:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"open_collections"</span><span class="p">:</span><span class="w">
  </span><span class="p">[{</span><span class="w">
    </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0pp87t_6"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"title"</span><span class="p">:</span><span class="w"> </span><span class="s2">"MY FIRST API OPEN COLLECTION"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Maecenas eu placerat ante. Fusce ut neque justo, et aliquet enim. In hac habitasse platea dictumst."</span><span class="p">,</span><span class="w">
    </span><span class="s2">"reference_1_label"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ID No"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"reference_2_label"</span><span class="p">:</span><span class="w"> </span><span class="s2">"First Name"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"email_link"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://www.test.com"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"amount"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="s2">"fixed_amount"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="s2">"tax"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="s2">"fixed_quantity"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="s2">"payment_button"</span><span class="p">:</span><span class="w"> </span><span class="s2">"buy"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"photo"</span><span class="p">:</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="s2">"retina_url"</span><span class="p">:</span><span class="w">  </span><span class="s2">"https://sample.net/assets/uploadPhoto.png"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"avatar_url"</span><span class="p">:</span><span class="w">  </span><span class="s2">"https://sample.net/assets/uploadPhoto.png"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="s2">"split_header"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="s2">"split_payments"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="s2">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"verified@account.com"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"fixed_cut"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="s2">"variable_cut"</span><span class="p">:</span><span class="w"> </span><span class="mi">20</span><span class="p">,</span><span class="w">
        </span><span class="s2">"stack_order"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="s2">"url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://www.billplz.com/0pp87t_6"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"active"</span><span class="w">
  </span><span class="p">}],</span><span class="w">
  </span><span class="s2">"page"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<blockquote>
<p>Example request with optional arguments:</p>
</blockquote>
<pre class="highlight shell tab-shell"><code><span class="c"># Get collection index</span>
curl https://www.billplz.com/api/v4/open_collections?page<span class="o">=</span>2&amp;status<span class="o">=</span>active <span class="se">\</span>
  -u 73eb57f0-7d4e-42b9-a544-aeac6e4b0f81:
</code></pre>
<blockquote>
<p>Response:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"open_collections"</span><span class="p">:</span><span class="w">
  </span><span class="p">[{</span><span class="w">
    </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0pp87t_6"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"title"</span><span class="p">:</span><span class="w"> </span><span class="s2">"MY FIRST API OPEN COLLECTION"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Maecenas eu placerat ante. Fusce ut neque justo, et aliquet enim. In hac habitasse platea dictumst."</span><span class="p">,</span><span class="w">
    </span><span class="s2">"reference_1_label"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ID No"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"reference_2_label"</span><span class="p">:</span><span class="w"> </span><span class="s2">"First Name"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"email_link"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://www.test.com"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"amount"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="s2">"fixed_amount"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="s2">"tax"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="s2">"fixed_quantity"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="s2">"payment_button"</span><span class="p">:</span><span class="w"> </span><span class="s2">"buy"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"photo"</span><span class="p">:</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="s2">"retina_url"</span><span class="p">:</span><span class="w">  </span><span class="s2">"https://sample.net/assets/uploadPhoto.png"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"avatar_url"</span><span class="p">:</span><span class="w">  </span><span class="s2">"https://sample.net/assets/uploadPhoto.png"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="s2">"split_header"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="s2">"split_payments"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="s2">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"verified@account.com"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"fixed_cut"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="s2">"variable_cut"</span><span class="p">:</span><span class="w"> </span><span class="mi">20</span><span class="p">,</span><span class="w">
        </span><span class="s2">"stack_order"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="s2">"url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://www.billplz.com/0pp87t_6"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"active"</span><span class="w">
  </span><span class="p">}],</span><span class="w">
  </span><span class="s2">"page"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre><h6 id='v4-collections-get-open-collection-index-fpx-bank-abbreviations-http-request'>HTTP REQUEST</h6>
<p><code>GET https://www.billplz.com/api/v4/open_collections</code></p>
<h6 id='v4-collections-get-open-collection-index-fpx-bank-abbreviations-optional-arguments'>OPTIONAL ARGUMENTS</h6>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>page</td>
<td>Up to 15 open collections will be returned in a single API call per specified page. Default to <strong>1</strong> if not present.</td>
</tr>
<tr>
<td>status</td>
<td>Parameter to filter open collection&#39;s status, valid value are <code>active</code> and <code>inactive</code>.</td>
</tr>
</tbody></table>
<h2 id='v4-payout-flow'>Payout Flow</h2>
<p>Payout allows you to make payment to any account bank registered in Malaysia. Since Bank doesn&#39;t provide way to programatically make payment to bank account, you can achieve that by using our Payout API.</p>

<p>Payout implements the same collection concept as per <a href="#api-flow">API Flow</a>. You will have collection that consists of multiple payouts.</p>

<p>Before proceeding further, you need to ensure that you have enough payout limit to perform Payout. To increase payout limit, navigate to Payout tab and you will notice the Payout Limit at the top.</p>

<p><img src="images/payoutlimit.png" alt="Payout Limit Interface Screenshot." /></p>

<p>To start using the API, you would have to create a Payout Collection. Then the payout will kicks in as per below:</p>

<ol>
<li>Get bank information from the recipient.</li>
<li>Execute <a href="#v4-payout-create-a-payout">Create a Payout</a> API.</li>
<li>If failed, perform one-time bank account registration using <a href="#v3-bank-account-direct-verification-create-a-bank-account">Create a Bank Account</a>;</li>
<li>Then, execute Create a Payout API again after three working days.</li>
<li>The payment will be settled to the receipient in one (1) working day except Thursday and public holidays.</li>
</ol>

<aside class="notice">
  Get a Bank Account API will pass the latest record from Create a Bank Account API. Merchant is expected to store the recipient details on their own and not relying on details provided by Get a Bank Account API.
</aside>
<h2 id='v4-payout-collections'>Payout Collections</h2><h3 id='v4-payout-collections-create-a-payout-collection'>Create a Payout Collection</h3>
<p>New Payout Collection used to group all your Payouts to make payout transfers.</p>

<blockquote>
<p>Example request:</p>
</blockquote>
<pre class="highlight shell tab-shell"><code><span class="c"># Creates a Payout collection</span>
curl https://www.billplz.com/api/v4/mass_payment_instruction_collections <span class="se">\</span>
  -u 73eb57f0-7d4e-42b9-a544-aeac6e4b0f81: <span class="se">\</span>
  -d <span class="nv">title</span><span class="o">=</span><span class="s2">"My First API Payout Collection"</span>
</code></pre>
<blockquote>
<p>Response:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"4po8no8h"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"title"</span><span class="p">:</span><span class="w"> </span><span class="s2">"My First API Payout Collection"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"mass_payment_instructions_count"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"paid_amount"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"active"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre><h6 id='v4-payout-collections-create-a-payout-collection-fpx-bank-abbreviations-http-request'>HTTP REQUEST</h6>
<p><code>POST https://www.billplz.com/api/v4/mass_payment_instruction_collections</code></p>
<h6 id='v4-payout-collections-create-a-payout-collection-fpx-bank-abbreviations-required-arguments'>REQUIRED ARGUMENTS</h6>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>title</td>
<td>The collection title. Will be displayed on bill template. String format.</td>
</tr>
</tbody></table>
<h6 id='v4-payout-collections-create-a-payout-collection-fpx-bank-abbreviations-response-parameter'>RESPONSE PARAMETER</h6>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>ID that represents a collection.</td>
</tr>
<tr>
<td>title</td>
<td>The collection&#39;s title in string format.</td>
</tr>
<tr>
<td>mass_payment_instructions_count</td>
<td>The number of payout belongs to this collection.</td>
</tr>
<tr>
<td>paid_amount</td>
<td>Total paid amount for payouts in this collection. <br>A positive integer in the smallest currency unit (e.g 100 cents to charge RM 1.00).</td>
</tr>
<tr>
<td>status</td>
<td>Collection&#39;s status, it is either <code>active</code> and <code>inactive</code>.</td>
</tr>
</tbody></table>
<h3 id='v4-payout-collections-get-a-payout-collection'>Get a Payout Collection</h3>
<p>Use this API to query your Payout Collection record.</p>

<blockquote>
<p>Example request:</p>
</blockquote>
<pre class="highlight shell tab-shell"><code><span class="c"># Get a Payout collection</span>
curl https://www.billplz.com/api/v4/mass_payment_instruction_collections/4po8no8h <span class="se">\</span>
  -u 73eb57f0-7d4e-42b9-a544-aeac6e4b0f81:
</code></pre>
<blockquote>
<p>Response:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"4po8no8h"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"title"</span><span class="p">:</span><span class="w"> </span><span class="s2">"My First API Payout Collection"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"mass_payment_instructions_count"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"paid_amount"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"active"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre><h6 id='v4-payout-collections-get-a-payout-collection-fpx-bank-abbreviations-http-request'>HTTP REQUEST</h6>
<p><code>GET https://www.billplz.com/api/v4/mass_payment_instruction_collections/{PAYOUT_COLLECTION_ID}</code></p>
<h6 id='v4-payout-collections-get-a-payout-collection-fpx-bank-abbreviations-required-arguments'>REQUIRED ARGUMENTS</h6>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>PAYOUT_COLLECTION_ID</td>
<td>Collection ID returned in Payout Collection object.</td>
</tr>
</tbody></table>
<h6 id='v4-payout-collections-get-a-payout-collection-fpx-bank-abbreviations-response-parameter'>RESPONSE PARAMETER</h6>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>ID that represents a collection.</td>
</tr>
<tr>
<td>title</td>
<td>The collection&#39;s title in string format.</td>
</tr>
<tr>
<td>mass_payment_instructions_count</td>
<td>The number of payout belongs to this collection.</td>
</tr>
<tr>
<td>paid_amount</td>
<td>Total paid amount for payouts in this collection. <br>A positive integer in the smallest currency unit (e.g 100 cents to charge RM 1.00).</td>
</tr>
<tr>
<td>status</td>
<td>Collection&#39;s status, it is either <code>active</code> and <code>inactive</code>.</td>
</tr>
</tbody></table>
<h2 id='v4-payout'>Payout</h2><h3 id='v4-payout-create-a-payout'>Create a Payout</h3>
<p>To make a payment transfer to another bank account, simply create a Payout.</p>

<p>To create a Payout, you would need the Payout collection&#39;s ID. Each Payout must be created within a Payout Collection.</p>

<aside class="warning">
  It returns status code of 422 with message 'You do not have enough payments' if you are trying to make a payment with total that are exceeding your <strong>Payout Limit</strong>.
</aside>

<blockquote>
<p>Example request:</p>
</blockquote>
<pre class="highlight shell tab-shell"><code><span class="c"># Creates a Payout for RM 20.00</span>
curl https://www.billplz.com/api/v4/mass_payment_instructions <span class="se">\</span>
  -u 73eb57f0-7d4e-42b9-a544-aeac6e4b0f81: <span class="se">\</span>
  -d <span class="nv">mass_payment_instruction_collection_id</span><span class="o">=</span><span class="s2">"4po8no8h"</span> <span class="se">\</span>
  -d <span class="nv">bank_code</span><span class="o">=</span><span class="s2">"MBBEMYKL"</span> <span class="se">\</span>
  -d <span class="nv">bank_account_number</span><span class="o">=</span><span class="s2">"820808062202123"</span> <span class="se">\</span>
  -d <span class="nv">identity_number</span><span class="o">=</span><span class="s2">"820808062202"</span> <span class="se">\</span>
  -d <span class="nv">name</span><span class="o">=</span><span class="s2">"Michael Yap"</span> <span class="se">\</span>
  -d <span class="nv">description</span><span class="o">=</span><span class="s2">"Maecenas eu placerat ante."</span> <span class="se">\</span>
  -d <span class="nv">total</span><span class="o">=</span>2000
</code></pre>
<blockquote>
<p>Response:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"afae4bqf"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"mass_payment_instruction_collection_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"4po8no8h"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"bank_code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"MBBEMYKL"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"bank_account_number"</span><span class="p">:</span><span class="w"> </span><span class="s2">"820808062202123"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"identity_number"</span><span class="p">:</span><span class="w"> </span><span class="mi">820808062202</span><span class="w"> </span><span class="p">,</span><span class="w">
  </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Michael Yap"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Maecenas eu placerat ante."</span><span class="p">,</span><span class="w">
  </span><span class="s2">"email"</span><span class="w"> </span><span class="p">:</span><span class="s2">"hello@billplz.com"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"processing"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"notification"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
  </span><span class="s2">"recipient_notification"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
  </span><span class="s2">"total"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2000"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<blockquote>
<p>Example request with optional arguments:</p>
</blockquote>
<pre class="highlight shell tab-shell"><code><span class="c"># Creates a Payout for RM 20.00</span>
curl https://www.billplz.com/api/v4/mass_payment_instructions <span class="se">\</span>
  -u 73eb57f0-7d4e-42b9-a544-aeac6e4b0f81: <span class="se">\</span>
  -d <span class="nv">mass_payment_instruction_collection_id</span><span class="o">=</span><span class="s2">"4po8no8h"</span> <span class="se">\</span>
  -d <span class="nv">bank_code</span><span class="o">=</span><span class="s2">"MBBEMYKL"</span> <span class="se">\</span>
  -d <span class="nv">bank_account_number</span><span class="o">=</span><span class="s2">"820808062202123"</span> <span class="se">\</span>
  -d <span class="nv">identity_number</span><span class="o">=</span><span class="s2">"820808062202"</span> <span class="se">\</span>
  -d <span class="nv">name</span><span class="o">=</span><span class="s2">"Michael Yap"</span> <span class="se">\</span>
  -d <span class="nv">description</span><span class="o">=</span><span class="s2">"Maecenas eu placerat ante."</span> <span class="se">\</span>
  -d <span class="nv">total</span><span class="o">=</span>2000 <span class="se">\</span>
  -d <span class="nv">email</span><span class="o">=</span><span class="s2">"recipient@email.com"</span> <span class="se">\</span>
  -d <span class="nv">notification</span><span class="o">=</span><span class="nb">true</span> <span class="se">\</span>
  -d <span class="nv">recipient_notification</span><span class="o">=</span><span class="nb">false</span>
</code></pre>
<blockquote>
<p>Response:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"57iofla8"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"mass_payment_instruction_collection_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"4po8no8h"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"bank_code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"MBBEMYKL"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"bank_account_number"</span><span class="p">:</span><span class="w"> </span><span class="s2">"820808062202123"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"identity_number"</span><span class="p">:</span><span class="w"> </span><span class="mi">820808062202</span><span class="w"> </span><span class="p">,</span><span class="w">
  </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Michael Yap"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Maecenas eu placerat ante."</span><span class="p">,</span><span class="w">
  </span><span class="s2">"email"</span><span class="w"> </span><span class="p">:</span><span class="s2">"recipient@email.com"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"processing"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"notification"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
  </span><span class="s2">"recipient_notification"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
  </span><span class="s2">"total"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2000"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre><h6 id='v4-payout-create-a-payout-fpx-bank-abbreviations-http-request'>HTTP REQUEST</h6>
<p><code>POST https://www.billplz.com/api/v4/mass_payment_instructions</code></p>
<h6 id='v4-payout-create-a-payout-fpx-bank-abbreviations-required-arguments'>REQUIRED ARGUMENTS</h6>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>mass_payment_instruction_collection_id</td>
<td>The Payout Collection ID. A string.</td>
</tr>
<tr>
<td>bank_code</td>
<td>Bank Code that represents bank, in string value. Case sensitive. <br><br> Status code of <code>422</code> with <code>Bank account not found</code> message will be returned if no bank accounts matched. <br><br>So, please make sure all <code>bank_code</code>, <code>bank_account_number</code> and <code>identity_number</code> are all correct. <br><br>Please refer to <a href="#v3-bank-account-direct-verification-get-a-bank-account">API#get-a-bank-account</a>.</td>
</tr>
<tr>
<td>bank_account_number</td>
<td>Bank account number, in string value. <br><br>Status code of <code>422</code> with <code>Bank account not found</code> message will be returned if no bank accounts matched. <br><br>So, please make sure all <code>bank_code</code>, <code>bank_account_number</code> and <code>identity_number</code> are all correct. <br><br>Please refer to <a href="#v3-bank-account-direct-verification-get-a-bank-account">API#get-a-bank-account</a>.</td>
</tr>
<tr>
<td>identity_number</td>
<td>Bank account&#39;s IC Number/SSM Registration Number, in string value. <br><br>Status code of <code>422</code> with <code>Bank account not found</code> message will be returned if no bank accounts matched. <br><br>So, please make sure all <code>bank_code</code>, <code>bank_account_number</code> and <code>identity_number</code> are all correct. <br><br>Please refer to <a href="#v3-bank-account-direct-verification-get-a-bank-account">API#get-a-bank-account</a>.</td>
</tr>
<tr>
<td>name</td>
<td>Payout&#39;s recipient name. Useful for identification on recipient part.</td>
</tr>
<tr>
<td>description</td>
<td>The Payout&#39;s description. Will be displayed on bill template. String format (Max of 200 characters).</td>
</tr>
<tr>
<td>total</td>
<td>Total amount you would like to transfer to the recipient. <br>A positive integer in the smallest currency unit (e.g 100 cents to charge RM 1.00).</td>
</tr>
</tbody></table>
<h6 id='v4-payout-create-a-payout-fpx-bank-abbreviations-optional-arguments'>OPTIONAL ARGUMENTS</h6>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>email</td>
<td>The email address of recipient (it default to sender&#39;s email if not present). <br>A receipt will be sent to this email once the Payout has been processed.</td>
</tr>
<tr>
<td>notification</td>
<td>Boolean value. As a sender, you can opt-in for email notification by setting this to <code>true</code>. Sender will receive email once a Payout has been processed. Default value is <code>false</code>.</td>
</tr>
<tr>
<td>recipient_notification</td>
<td>Boolean value. If this is set to <code>true</code>, recipient of the Payout will receive email notification once the Payout has been processed. Default value is <code>true</code>. Set to false if you do not like the recipient to receive any email notifications.</td>
</tr>
</tbody></table>
<h6 id='v4-payout-create-a-payout-fpx-bank-abbreviations-response-parameter'>RESPONSE PARAMETER</h6>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>ID that represents a Payout.</td>
</tr>
<tr>
<td>mass_payment_instruction_collection_id</td>
<td>The Payout collection&#39;s title in string format.</td>
</tr>
<tr>
<td>bank_code</td>
<td>Bank Code that represents bank, in string value. Case sensitive.</td>
</tr>
<tr>
<td>bank_account_number</td>
<td>Bank account number, in string value.</td>
</tr>
<tr>
<td>identity_number</td>
<td>Bank account&#39;s IC Number/SSM Registration Number, in string value.</td>
</tr>
<tr>
<td>name</td>
<td>Payout&#39;s recipient name.</td>
</tr>
<tr>
<td>description</td>
<td>The Payout&#39;s description.</td>
</tr>
<tr>
<td>email</td>
<td>The email address of recipient (it default to sender&#39;s email if not present).</td>
</tr>
<tr>
<td>status</td>
<td>Payout status. It is either <code>processing</code> or <code>completed</code> or <code>refunded</code>.</td>
</tr>
<tr>
<td>notification</td>
<td>Boolean value. Sender will receive email notification if this is <code>true</code>.</td>
</tr>
<tr>
<td>recipient_notification</td>
<td>Boolean value. Recipient will receive email notification if this is <code>true</code>.</td>
</tr>
<tr>
<td>total</td>
<td>Total amount transfer to the recipient. A positive integer in the smallest currency unit (e.g 100 cents to charge RM 1.00). <br><br>A standard <code>RM1.50</code> or <code>RM0.50</code> or <code>RM0.00</code> fee would be charged from your credits when you successfully created a Payout request;<br>while the total of each Payout will be deducted from your Payout limit. <br><br>Status code of <code>422</code> with <code>Bank account not verified</code> message will be returned if the matching bank account is pending for verification. <br><br>Status code of <code>422</code> with <code>Bank account rejected</code> message will be returned if the matching bank account is rejected.</td>
</tr>
</tbody></table>
<h3 id='v4-payout-get-a-payout'>Get a Payout</h3>
<p>Use this API to query your Payout record.</p>

<blockquote>
<p>Example request:</p>
</blockquote>
<pre class="highlight shell tab-shell"><code><span class="c"># Get a Payout</span>
curl https://www.billplz.com/api/v4/mass_payment_instructions/afae4bqf <span class="se">\</span>
  -u 73eb57f0-7d4e-42b9-a544-aeac6e4b0f81:
</code></pre>
<blockquote>
<p>Response:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"afae4bqf"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"mass_payment_instruction_collection_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"4po8no8h"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"bank_code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"MBBEMYKL"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"bank_account_number"</span><span class="p">:</span><span class="w"> </span><span class="s2">"820808062202123"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"identity_number"</span><span class="p">:</span><span class="w"> </span><span class="mi">820808062202</span><span class="w"> </span><span class="p">,</span><span class="w">
  </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Michael Yap"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Maecenas eu placerat ante."</span><span class="p">,</span><span class="w">
  </span><span class="s2">"email"</span><span class="w"> </span><span class="p">:</span><span class="s2">"hello@billplz.com"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"processing"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"notification"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
  </span><span class="s2">"recipient_notification"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
  </span><span class="s2">"total"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2000"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre><h6 id='v4-payout-get-a-payout-fpx-bank-abbreviations-http-request'>HTTP REQUEST</h6>
<p><code>GET https://www.billplz.com/api/v4/mass_payment_instructions/{PAYOUT_ID}</code></p>
<h6 id='v4-payout-get-a-payout-fpx-bank-abbreviations-required-arguments'>REQUIRED ARGUMENTS</h6>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>PAYOUT_ID</td>
<td>The Payout ID. A string.</td>
</tr>
</tbody></table>
<h6 id='v4-payout-get-a-payout-fpx-bank-abbreviations-response-parameter'>RESPONSE PARAMETER</h6>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>ID that represents a Payout.</td>
</tr>
<tr>
<td>mass_payment_instruction_collection_id</td>
<td>The Payout collection&#39;s title in string format.</td>
</tr>
<tr>
<td>bank_code</td>
<td>Bank Code that represents bank, in string value. Case sensitive.</td>
</tr>
<tr>
<td>bank_account_number</td>
<td>Bank account number, in string value.</td>
</tr>
<tr>
<td>identity_number</td>
<td>Bank account&#39;s IC Number/ROC/ROB/ROS Number, in string value.</td>
</tr>
<tr>
<td>name</td>
<td>Payout&#39;s recipient name.</td>
</tr>
<tr>
<td>description</td>
<td>The Payout&#39;s description.</td>
</tr>
<tr>
<td>email</td>
<td>The email address of recipient (it default to sender&#39;s email if not present).</td>
</tr>
<tr>
<td>status</td>
<td>Payout status. It is either <code>processing</code> or <code>completed</code> or <code>refunded</code>.</td>
</tr>
<tr>
<td>notification</td>
<td>Boolean value. Sender will receive email notification if this is <code>true</code>.</td>
</tr>
<tr>
<td>recipient_notification</td>
<td>Boolean value. Recipient will receive email notification if this is <code>true</code>.</td>
</tr>
<tr>
<td>total</td>
<td>Total amount transfer to the recipient. A positive integer in the smallest currency unit (e.g 100 cents to charge RM 1.00).</td>
</tr>
</tbody></table>
<h2 id='v4-webhook-rank'>Webhook Rank</h2>
<p>Webhook Rank has been introduced to ensure callback is running at it&#39;s best. The higher the ranking, the higher priority for the callback to be executed. Use this API to query your current Account Ranking. <code>0.0</code> indicate highest ranking (default) and <code>10.0</code> lowest ranking.</p>

<aside class="notice">
  The ranking will be reset to default daily at 17:00.
</aside>

<blockquote>
<p>Example request:</p>
</blockquote>
<pre class="highlight shell tab-shell"><code><span class="c"># Webhook Rank</span>
curl https://www.billplz.com/api/v4/webhook_rank <span class="se">\</span>
  -u 73eb57f0-7d4e-42b9-a544-aeac6e4b0f81:
</code></pre>
<blockquote>
<p>Response:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"rank"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.0</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre><h6 id='v4-webhook-rank-get-a-payout-fpx-bank-abbreviations-http-request'>HTTP REQUEST</h6>
<p><code>GET https://www.billplz.com/api/v4/webhook_rank</code></p>
<h6 id='v4-webhook-rank-get-a-payout-fpx-bank-abbreviations-response-parameter'>RESPONSE PARAMETER</h6>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>rank</td>
<td>Ranking Number (0.0 - 10.0)</td>
</tr>
</tbody></table>
<h2 id='v4-get-payment-gateways'>Get Payment Gateways</h2>
<p>Use this API to get a complete list of supported payment gateways&#39; bank code that need for setting <code>reference_1</code> in <a href="#direct-payment-gateway-bypass-billplz-bill-page">API#bypass-billplz-bill-page</a>.</p>

<p>This API returns not only online banking, but also all other payment gateways&#39; bank code that are supported in <a href="#direct-payment-gateway-bypass-billplz-bill-page">API#bypass-billplz-bill-page</a>.</p>

<aside class="success">
  Pull payment gateway list on <strong>hourly</strong> basis.
</aside>

<blockquote>
<p>Example request:</p>
</blockquote>
<pre class="highlight shell tab-shell"><code>curl https://www.billplz.com/api/v4/payment_gateways <span class="se">\</span>
  -u 73eb57f0-7d4e-42b9-a544-aeac6e4b0f81:
</code></pre>
<blockquote>
<p>Response:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"payment_gateways"</span><span class="p">:</span><span class="w">
  </span><span class="p">[{</span><span class="w">
    </span><span class="s2">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"MBU0227"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"active"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="s2">"category"</span><span class="p">:</span><span class="w"> </span><span class="s2">"fpx"</span><span class="w">
    </span><span class="p">},{</span><span class="w">
    </span><span class="s2">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"OCBC0229"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"active"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="s2">"category"</span><span class="p">:</span><span class="w"> </span><span class="s2">"fpx"</span><span class="w">
    </span><span class="p">},{</span><span class="w">
    </span><span class="s2">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BP-FKR01"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"active"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="s2">"category"</span><span class="p">:</span><span class="w"> </span><span class="s2">"billplz"</span><span class="w">
    </span><span class="p">},{</span><span class="w">
    </span><span class="s2">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BP-PPL01"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"active"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="s2">"category"</span><span class="p">:</span><span class="w"> </span><span class="s2">"paypal"</span><span class="w">
    </span><span class="p">},{</span><span class="w">
    </span><span class="s2">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BP-2C2P1"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"active"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="s2">"category"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2c2p"</span><span class="w">
    </span><span class="p">},{</span><span class="w">
    </span><span class="s2">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BP-OCBC1"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"active"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="s2">"category"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ocbc"</span><span class="w">
  </span><span class="p">}]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre><h6 id='v4-get-payment-gateways-get-a-payout-fpx-bank-abbreviations-http-request'>HTTP REQUEST</h6>
<p><code>GET https://www.billplz.com/api/v4/payment_gateways</code></p>
<h6 id='v4-get-payment-gateways-get-a-payout-fpx-bank-abbreviations-response-parameter'>RESPONSE PARAMETER</h6>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>code</td>
<td>This is the bank code that need to set to <code>reference_1</code>. Case sensitive.</td>
</tr>
<tr>
<td>active</td>
<td><code>true</code> or <code>false</code> boolean that represents payment gateway&#39;s availability. If an inactive / invalid payment gateway was set to <code>reference_1</code>, the payment process will show Billplz page for payer to choose another payment option from the list.</td>
</tr>
<tr>
<td>category</td>
<td>Category this payment gateway belongs to.</td>
</tr>
</tbody></table>
<h4 id='v4-get-payment-gateways-get-a-payout-payment-gateway-abbreviations'>Payment Gateway Abbreviations</h4>
<table><thead>
<tr>
<th>Code</th>
<th>Name</th>
</tr>
</thead><tbody>
<tr>
<td>ABMB0212</td>
<td>Alliance Bank</td>
</tr>
<tr>
<td>ABB0233</td>
<td>Affin Bank</td>
</tr>
<tr>
<td>AMBB0209</td>
<td>AmBank</td>
</tr>
<tr>
<td>BCBB0235</td>
<td>CIMB Clicks</td>
</tr>
<tr>
<td>BIMB0340</td>
<td>Bank Islam</td>
</tr>
<tr>
<td>BKRM0602</td>
<td>Bank Rakyat</td>
</tr>
<tr>
<td>BMMB0341</td>
<td>Bank Muamalat</td>
</tr>
<tr>
<td>BSN0601</td>
<td>BSN</td>
</tr>
<tr>
<td>CIT0217</td>
<td>Citibank Berhad</td>
</tr>
<tr>
<td>HLB0224</td>
<td>Hong Leong Bank</td>
</tr>
<tr>
<td>HSBC0223</td>
<td>HSBC Bank</td>
</tr>
<tr>
<td>KFH0346</td>
<td>Kuwait Finance House</td>
</tr>
<tr>
<td>MB2U0227</td>
<td>Maybank2u</td>
</tr>
<tr>
<td>MBB0227</td>
<td>Maybank2E</td>
</tr>
<tr>
<td>MBB0228</td>
<td>Maybank2E</td>
</tr>
<tr>
<td>OCBC0229</td>
<td>OCBC Bank</td>
</tr>
<tr>
<td>PBB0233</td>
<td>Public Bank</td>
</tr>
<tr>
<td>RHB0218</td>
<td>RHB Now</td>
</tr>
<tr>
<td>SCB0216</td>
<td>Standard Chartered</td>
</tr>
<tr>
<td>UOB0226</td>
<td>UOB Bank</td>
</tr>
<tr>
<td>TEST0001*</td>
<td>Test 0001</td>
</tr>
<tr>
<td>TEST0002*</td>
<td>Test 0002</td>
</tr>
<tr>
<td>TEST0003*</td>
<td>Test 0003</td>
</tr>
<tr>
<td>TEST0004*</td>
<td>Test 0004</td>
</tr>
<tr>
<td>TEST0021*</td>
<td>Test 0021</td>
</tr>
<tr>
<td>TEST0022*</td>
<td>Test 0022</td>
</tr>
<tr>
<td>TEST0023*</td>
<td>Test 0023</td>
</tr>
<tr>
<td>BP-FKR01*</td>
<td>Billplz Simulator</td>
</tr>
<tr>
<td>BP-PPL01</td>
<td>PayPal</td>
</tr>
<tr>
<td>BP-2C2P1</td>
<td>e-pay</td>
</tr>
<tr>
<td>BP-2C2PC</td>
<td>Visa / Mastercard</td>
</tr>
<tr>
<td>BP-2C2PU</td>
<td>UnionPay</td>
</tr>
<tr>
<td>BP-OCBC1</td>
<td>Visa / Mastercard</td>
</tr>
<tr>
<td>BP-BST01</td>
<td>Boost</td>
</tr>
<tr>
<td>BP-SGP01</td>
<td>Senangpay</td>
</tr>
</tbody></table>

<p>* Only applicable in staging environment.</p>
<h2 id='v4-tokenization'>Tokenization</h2>
<p>This feature allows you to exchange for a card&#39;s tokenization from our provider&#39;s PCI DSS certified vault, and use the token to charge your customer later.</p>
<h6 id='v4-tokenization-get-a-payout-payment-gateway-abbreviations-providers'>Providers</h6>
<table><thead>
<tr>
<th>Provider</th>
<th>Type</th>
<th>Eligibility</th>
</tr>
</thead><tbody>
<tr>
<td>Senangpay</td>
<td>3DS</td>
<td>Any paid membership plan</td>
</tr>
<tr>
<td>OCBC</td>
<td>3DS</td>
<td>Any paid membership plan</td>
</tr>
</tbody></table>
<h3 id='v4-tokenization-senangpay'>Senangpay</h3>
<p>This feature enables you to tokenize 3DS Visa / Mastercard cards to be charged later, which will be stored in Senangpay&#39;s PCI DSS certified servers.</p>
<h6 id='v4-tokenization-senangpay-payment-gateway-abbreviations-card-tokenization-flow'>Card Tokenization Flow</h6>
<ol>
<li>Create card &amp; token using this <a href="#v4-tokenization-senangpay-create-card">Create Card</a> API.</li>
<li>Merchant redirects card holder to Senangpay&#39;s 3DS authentication page.</li>
<li>Card holder inputs credit/debit card details and submits the form.</li>
<li>Billplz will send a POST request to merchant&#39;s callback_url containing masked card details together with CARD_ID and TOKEN.</li>
<li>Merchant compares the checksum sent, and store card details if they match.</li>
</ol>

<aside class="notice">
  This feature won't be enabled by default, and only applicable to paid plan members. Email <a href="mailto:team@billplz.com?subject=Senangpay_Tokenization">team@billplz.com</a> for assistance.
</aside>
<h4 id='v4-tokenization-senangpay-create-card'>Create Card</h4>
<p>Use this API to create a card token for 3DS Visa / Mastercard cards. Remember to store the response, as no card details nor tokens will be stored in Billplz&#39;s servers.</p>

<p>To charge a card with the token generated, refer to this <a href="#v4-tokenization-senangpay-charge-card">API</a>.</p>

<blockquote>
<p>Example request:</p>
</blockquote>
<pre class="highlight shell tab-shell"><code><span class="c"># Creates a card token</span>
curl https://www.billplz.com/api/v4/cards <span class="se">\</span>
  -u 73eb57f0-7d4e-42b9-a544-aeac6e4b0f81: <span class="se">\</span>
  -d <span class="nv">name</span><span class="o">=</span><span class="s2">"Michael"</span> <span class="se">\</span>
  -d <span class="nv">email</span><span class="o">=</span><span class="s2">"api@billplz.com"</span> <span class="se">\</span>
  -d <span class="nv">phone</span><span class="o">=</span><span class="s2">"60122345678"</span> <span class="se">\</span>
  -d <span class="nv">callback_url</span><span class="o">=</span><span class="s2">"https://example.com/callback_url"</span>
</code></pre>
<blockquote>
<p>Response:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="w">  </span><span class="p">{</span><span class="w">
    </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"8727fc3a-c04c-4c2b-9b67-947b5cfc2fb6"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"card_number"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="s2">"provider"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="s2">"token"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"pending"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"authentication_redirect_url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://senangpay.my/some_link"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"callback_url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://example.com/callback_url"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span></code></pre><h6 id='v4-tokenization-senangpay-create-card-http-request'>HTTP REQUEST</h6>
<p><code>POST https://www.billplz.com/api/v4/cards</code></p>
<h6 id='v4-tokenization-senangpay-create-card-required-arguments'>REQUIRED ARGUMENTS</h6>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>name</td>
<td>Name on the card / name of the card owner.</td>
</tr>
<tr>
<td>email</td>
<td>Email of the card owner.</td>
</tr>
<tr>
<td>phone</td>
<td>Contact number of card owner.</td>
</tr>
<tr>
<td>callback_url</td>
<td>Web hook URL to be called after card token is created. It will POST a Card object.</td>
</tr>
</tbody></table>

<aside class="notice">
  This tokenization function can only tokenize Visa / Mastercard cards. You won't be able to tokenize Amex cards.
</aside>
<h4 id='v4-tokenization-senangpay-delete-card'>Delete Card</h4>
<p>Use this API to delete a card.</p>

<blockquote>
<p>Example request:</p>
</blockquote>
<pre class="highlight shell tab-shell"><code><span class="c"># Delete an active card token</span>
curl -X DELETE https://www.billplz.com/api/v4/cards/8727fc3a-c04c-4c2b-9b67-947b5cfc2fb6 <span class="se">\</span>
  -u 73eb57f0-7d4e-42b9-a544-aeac6e4b0f81: <span class="se">\</span>
  -d <span class="nv">token</span><span class="o">=</span><span class="s2">"77d62ad5a3ae56aafc8e3529b89d0268afa205303f6017afbd9826afb8394740"</span>
</code></pre>
<blockquote>
<p>Response:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"8727fc3a-c04c-4c2b-9b67-947b5cfc2fb6"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"card_number"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1118"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"provider"</span><span class="p">:</span><span class="w"> </span><span class="s2">"mastercard"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"token"</span><span class="p">:</span><span class="w"> </span><span class="s2">"77d62ad5a3ae56aafc8e3529b89d0268afa205303f6017afbd9826afb8394740"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"deleted"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre><h6 id='v4-tokenization-senangpay-delete-card-http-request'>HTTP REQUEST</h6>
<p><code>DELETE https://www.billplz.com/api/v4/cards/{CARD_ID}</code></p>
<h6 id='v4-tokenization-senangpay-delete-card-required-arguments'>REQUIRED ARGUMENTS</h6>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>token</td>
<td>Card&#39;s token.</td>
</tr>
</tbody></table>
<h4 id='v4-tokenization-senangpay-3d-secure-update'>3D Secure Update</h4>
<p>Billplz will send a POST request to <code>callback_url</code> provided within an hour, regardless the card holder has completed the 3DSecure verification or not. This callback_url will also serve as <code>redirect_url</code> on the client&#39;s side. You are required to redirect every time the 3D secure update is being given regardless of callback or redirect.</p>

<aside class="notice">
  Acceptable HTTP response status code is within the range of <code>200</code> - <code>308</code>. Responding with other than acceptable range will be considered as failure.
</aside>

<blockquote>
<p>Example request to callback_url:</p>
</blockquote>
<pre class="highlight shell tab-shell"><code><span class="c"># POST request sent to callback_url</span>
curl https://www.example.com/callback <span class="se">\</span>
  -d <span class="nv">id</span><span class="o">=</span><span class="s2">"a35296ad-b50c-4179-8024-036da00c1aee"</span> <span class="se">\</span>
  -d <span class="nv">card_number</span><span class="o">=</span><span class="s2">"1118"</span> <span class="se">\</span>
  -d <span class="nv">provider</span><span class="o">=</span><span class="s2">"mastercard"</span> <span class="se">\</span>
  -d <span class="nv">token</span><span class="o">=</span><span class="s2">"77d62ad5a3ae56aafc8e3529b89d0268afa205303f6017afbd9826afb8394740"</span> <span class="se">\</span>
  -d <span class="nv">status</span><span class="o">=</span><span class="s2">"active"</span> <span class="se">\</span>
  -d <span class="nv">checksum</span><span class="o">=</span><span class="s2">"ef5e54a22af0925cba88fab467119742e90262e3646eea1dee3949938daf3a38"</span>
</code></pre><h6 id='v4-tokenization-senangpay-3d-secure-update-http-request'>HTTP REQUEST</h6>
<p><code>POST {CALLBACK_URL}</code></p>
<h6 id='v4-tokenization-senangpay-3d-secure-update-post-parameter'>POST PARAMETER</h6>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>ID that represents card.</td>
</tr>
<tr>
<td>card_number</td>
<td>Last 4 digits of card&#39;s number.</td>
</tr>
<tr>
<td>token</td>
<td>Card&#39;s token.</td>
</tr>
<tr>
<td>status</td>
<td>Status that represents the card&#39;s status, possible values are <code>pending</code>, <code>active</code>, <code>failed</code>, and <code>deleted</code>.</td>
</tr>
<tr>
<td>checksum</td>
<td>Digital signature computed with posted data and shared XSignature Key.</td>
</tr>
</tbody></table>
<h6 id='v4-tokenization-senangpay-3d-secure-update-checksum'>CHECKSUM</h6>
<p>Checksum is a digital signature computed with posted data and shared XSignature Key, similar to the X Signature received on Payment Completion.</p>

<p>For security purposes, checksum is inserted into this POST request so that merchants can verify this request comes from Billplz. To learn more on how to calculate this checksum, <a href="#x-signature">click here</a>.</p>

<aside class="success">
  Check the checksum value for better security.
</aside>
<h4 id='v4-tokenization-senangpay-charge-card'>Charge Card</h4>
<p>Use this API to make bill payment by charging a Visa / Mastercard card with <a href="#v4-tokenization-senangpay-create-card">token generated</a>.</p>
<h6 id='v4-tokenization-senangpay-charge-card-requirements'>REQUIREMENTS</h6>
<ol>
<li>Collection without split recipients (split payment).</li>
<li>Bill. Email and Mobile number are required during bill creation.
<a href="#v4-tokenization-senangpay-create-card">Card Token &amp; ID</a>.</li>
</ol>

<aside class="notice">
  This function is only applicable for Visa / Mastercard cards. You won't be able to charge Amex cards.
</aside>

<blockquote>
<p>Example request:</p>
</blockquote>
<pre class="highlight shell tab-shell"><code><span class="c"># Make bill payment with token</span>
curl https://www.billplz.com/api/v4/bills/awyzmy0m/charge <span class="se">\</span>
  -u 73eb57f0-7d4e-42b9-a544-aeac6e4b0f81: <span class="se">\</span>
  -d <span class="nv">token</span><span class="o">=</span><span class="s2">"77d62ad5a3ae56aafc8e3529b89d0268afa205303f6017afbd9826afb8394740"</span> <span class="se">\</span>
  -d <span class="nv">card_id</span><span class="o">=</span><span class="s2">"8727fc3a-c04c-4c2b-9b67-947b5cfc2fb6"</span>
</code></pre>
<blockquote>
<p>Response:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">10000</span><span class="p">,</span><span class="w">
  </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"success"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"reference_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"15681981586116610"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"hash_value"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1b66606732d846192b0b6aa4b754b3c8addd59072fce4bdd066b5d631c31d5e8"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Payment was successful"</span><span class="p">,</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre><h6 id='v4-tokenization-senangpay-charge-card-http-request'>HTTP REQUEST</h6>
<p><code>POST https://www.billplz.com/api/v4/bills/{BILL_ID}/charge</code></p>
<h6 id='v4-tokenization-senangpay-charge-card-required-arguments'>REQUIRED ARGUMENTS</h6>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>card_id</td>
<td>ID that represents a card.</td>
</tr>
<tr>
<td>token</td>
<td>Card token.</td>
</tr>
</tbody></table>
<h3 id='v4-tokenization-ocbc'>OCBC</h3>
<p>This feature enables merchants with OCBC business account to tokenize 3DS Visa / Mastercard cards to be charged later, which will be stored in OCBC&#39;s PCI DSS certified servers.</p>
<h6 id='v4-tokenization-ocbc-charge-card-card-tokenization-flow'>CARD TOKENIZATION FLOW</h6>
<ol>
<li>Merchant to collect card details from card holder. Card number, expiry date and CVV.</li>
<li>Create card &amp; token using this <a href="#v4-tokenization-ocbc-create-card">API</a>.</li>
<li>Upon receiving the response, redirect card holder to the URL (authentication_redirect_url) given.</li>
<li>Card holder is required to complete 3DSecure verification process within an hour.</li>
<li>Billplz updates card status based on verification result.</li>
<li>Billplz sends POST request to callback_url specified by merchant. If card holder fails to complete the verification process within an hour, Billplz will send a POST request with failed Card object. Merchants are expected to set up this callback_url to get and update the result of card&#39;s <a href="#v4-tokenization-ocbc-3d-secure-update">3DSecure verification</a>.</li>
</ol>

<aside class="notice">
  This feature won't be enabled by default, and only applicable to members with OCBC business accounts and with paid membership plans. Email <a href="mailto:team@billplz.com?subject=OCBC_Tokenization">team@billplz.com</a> for assistance.
</aside>

<aside class="warning">
  You will need to comply with PCI-DSS to be able to store card details. If you store without meeting the PCI-DSS compliance, you do it at your own risk of being sued.
</aside>
<h4 id='v4-tokenization-ocbc-create-card'>Create Card</h4>
<p>Use this API to create a card token for 3DS Visa / Mastercard. Remember to store the responses for future use.</p>

<p>After creating a card, the token can not be used yet as it is not active. To activate the token, redirect card holder to the <code>authentication_redirect_url</code> provided in the response, where the card holder will have to go through acquiring bank&#39;s 3DSecure authentication process.</p>

<p>To charge a card with the token generated, refer to this <a href="#v4-tokenization-ocbc-charge-card">API</a>.</p>

<blockquote>
<p>Example request:</p>
</blockquote>
<pre class="highlight shell tab-shell"><code><span class="c"># Creates a card token</span>
curl https://www.billplz.com/api/v4/ocbc_cards <span class="se">\</span>
  -u 73eb57f0-7d4e-42b9-a544-aeac6e4b0f81: <span class="se">\</span>
  -d <span class="nv">card_number</span><span class="o">=</span><span class="s2">"5123450000000008"</span> <span class="se">\</span>
  -d <span class="nv">expiry_month</span><span class="o">=</span><span class="s2">"05"</span> <span class="se">\</span>
  -d <span class="nv">expiry_year</span><span class="o">=</span><span class="s2">"21"</span> <span class="se">\</span>
  -d <span class="nv">cvv</span><span class="o">=</span><span class="s2">"100"</span> <span class="se">\</span>
  -d <span class="nv">callback_url</span><span class="o">=</span><span class="s2">"https://www.example.com/callback"</span>
</code></pre>
<blockquote>
<p>Response:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"a35296ad-b50c-4179-8024-036da00c1aee"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"card_number"</span><span class="p">:</span><span class="w"> </span><span class="s2">"512345xxxxxx0008"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"expiry"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0521"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"provider"</span><span class="p">:</span><span class="w"> </span><span class="s2">"MASTERCARD"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"token"</span><span class="p">:</span><span class="w"> </span><span class="s2">"9887706765197232"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"active"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"authentication_redirect_url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://www.billplz.com/banks/ocbc/cards/a35296ad-b50c-4179-8024-036da00c1aee/authenticate"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"callback_url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://www.example.com/callback"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<blockquote>
<p>Callback request:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"a35296ad-b50c-4179-8024-036da00c1aee"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"card_number"</span><span class="p">:</span><span class="w"> </span><span class="s2">"512345xxxxxx0008"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"expiry"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0521"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"provider"</span><span class="p">:</span><span class="w"> </span><span class="s2">"MASTERCARD"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"token"</span><span class="p">:</span><span class="w"> </span><span class="s2">"9887706765197232"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"active"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"authentication_redirect_url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://www.billplz.com/banks/ocbc/cards/a35296ad-b50c-4179-8024-036da00c1aee/authenticate"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"callback_url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://www.example.com/callback"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre><h6 id='v4-tokenization-ocbc-create-card-http-request'>HTTP REQUEST</h6>
<p><code>POST https://www.billplz.com/api/v4/ocbc_cards</code></p>
<h6 id='v4-tokenization-ocbc-create-card-required-arguments'>REQUIRED ARGUMENTS</h6>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>card_number</td>
<td>Card number, only numbers.</td>
</tr>
<tr>
<td>expiry_month</td>
<td>2 character string. May should be written as <code>05</code>.</td>
</tr>
<tr>
<td>expiry_year</td>
<td>2 character string. 2021 should be written as <code>21</code>.</td>
</tr>
<tr>
<td>cvv</td>
<td>Card CVV number (3 digits).</td>
</tr>
<tr>
<td>callback_url</td>
<td>Web hook URL to be called after 3DSecure verification/authorization completed. It will POST a Card object.</td>
</tr>
</tbody></table>
<h4 id='v4-tokenization-ocbc-delete-card'>Delete Card</h4>
<p>Use this API to delete a tokenized card.</p>

<blockquote>
<p>Example request:</p>
</blockquote>
<pre class="highlight shell tab-shell"><code><span class="c"># Deletes a card token</span>
curl https://www.billplz.com/api/v4/ocbc_cards/8727fc3a-c04c-4c2b-9b67-947b5cfc2fb6 <span class="se">\</span>
  -u 73eb57f0-7d4e-42b9-a544-aeac6e4b0f81: <span class="se">\</span>
  -d <span class="nv">token</span><span class="o">=</span><span class="s2">"9887706765197232"</span>
</code></pre>
<blockquote>
<p>Response:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"8727fc3a-c04c-4c2b-9b67-947b5cfc2fb6"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"deleted"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre><h6 id='v4-tokenization-ocbc-delete-card-http-request'>HTTP REQUEST</h6>
<p><code>DELETE https://www.billplz.com/api/v4/ocbc_cards/{CARD_ID}</code></p>
<h6 id='v4-tokenization-ocbc-delete-card-required-arguments'>REQUIRED ARGUMENTS</h6>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>token</td>
<td>Card token.</td>
</tr>
</tbody></table>
<h4 id='v4-tokenization-ocbc-3d-secure-update'>3D Secure Update</h4>
<p>Billplz will send a POST request to <code>callback_url</code> provided within an hour, regardless the card holder has completed the 3DSecure verification or not. This callback_url will also serve as <code>redirect_url</code> on the client&#39;s side. You are required to redirect every time the 3D secure update is being given regardless of callback or redirect.</p>

<aside class="notice">
  Acceptable HTTP response status code is within the range of <code>200</code> - <code>308</code>. Responding with other than acceptable range will be considered as failure.
</aside>

<blockquote>
<p>Example request to callback_url:</p>
</blockquote>
<pre class="highlight shell tab-shell"><code><span class="c"># POST request sent to callback_url</span>
curl https://www.example.com/callback <span class="se">\</span>
  -d <span class="nv">id</span><span class="o">=</span><span class="s2">"a35296ad-b50c-4179-8024-036da00c1aee"</span> <span class="se">\</span>
  -d <span class="nv">status</span><span class="o">=</span><span class="s2">"active"</span> <span class="se">\</span>
  -d <span class="nv">checksum</span><span class="o">=</span><span class="s2">"ef5e54a22af0925cba88fab467119742e90262e3646eea1dee3949938daf3a38"</span>
</code></pre><h6 id='v4-tokenization-ocbc-3d-secure-update-http-request'>HTTP REQUEST</h6>
<p><code>POST {CALLBACK_URL}</code></p>
<h6 id='v4-tokenization-ocbc-3d-secure-update-post-parameter'>POST PARAMETER</h6>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>ID that represents card.</td>
</tr>
<tr>
<td>status</td>
<td>Status that represents the card&#39;s status, possible values are <code>pending</code>, <code>active</code>, <code>failed</code>, and <code>deleted</code>.</td>
</tr>
<tr>
<td>checksum</td>
<td>Digital signature computed with posted data and shared XSignature Key.</td>
</tr>
</tbody></table>
<h6 id='v4-tokenization-ocbc-3d-secure-update-checksum'>CHECKSUM</h6>
<p>Checksum is a digital signature computed with posted data and shared XSignature Key, similar to the X Signature received on Payment Completion.</p>

<p>For security purposes, checksum is inserted into this POST request so that merchants can verify this request comes from Billplz. To learn more on how to calculate this checksum, <a href="#x-signature">click here</a>.</p>

<aside class="success">
  Check the checksum value for better security.
</aside>
<h4 id='v4-tokenization-ocbc-charge-card'>Charge Card</h4>
<p>Use this API to make bill payment by charging a 3DS Visa / Mastercard card with <a href="#v4-tokenization-ocbc-create-card">token generated</a>.</p>
<h6 id='v4-tokenization-ocbc-charge-card-requirements'>REQUIREMENTS</h6>
<ol>
<li>Collection without split recipients (split payment).</li>
<li>Bill.</li>
<li><a href="#v4-tokenization-ocbc-create-card">Card Token &amp; ID</a>.</li>
</ol>

<blockquote>
<p>Example request:</p>
</blockquote>
<pre class="highlight shell tab-shell"><code><span class="c"># Make bill payment with token</span>
curl https://www.billplz.com/api/v4/bills/awyzmy0m/ocbc_charge <span class="se">\</span>
  -u 73eb57f0-7d4e-42b9-a544-aeac6e4b0f81: <span class="se">\</span>
  -d <span class="nv">token</span><span class="o">=</span><span class="s2">"77d62ad5a3ae56aafc8e3529b89d0268afa205303f6017afbd9826afb8394740"</span> <span class="se">\</span>
  -d <span class="nv">card_id</span><span class="o">=</span><span class="s2">"8727fc3a-c04c-4c2b-9b67-947b5cfc2fb6"</span>
</code></pre>
<blockquote>
<p>Response:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">10000</span><span class="p">,</span><span class="w">
  </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"success"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"reference_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"926611194776"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Approved"</span><span class="p">,</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre><h6 id='v4-tokenization-ocbc-charge-card-http-request'>HTTP REQUEST</h6>
<p><code>POST https://www.billplz.com/api/v4/bills/{BILL_ID}/ocbc_charge</code></p>
<h6 id='v4-tokenization-ocbc-charge-card-required-arguments'>REQUIRED ARGUMENTS</h6>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>card_id</td>
<td>ID that represents a card.</td>
</tr>
<tr>
<td>token</td>
<td>Card token.</td>
</tr>
</tbody></table>

<aside class="notice">
  This function is only applicable for Visa / Mastercard cards. Card tokens must be 3DSecure verified to be set as <code>active</code>.
</aside>
<h1 id='x-signature'>X Signature</h1><h6 id='x-signature-tokenization-ocbc-charge-card-x-signature-calculation'>X SIGNATURE CALCULATION</h6>
<p>The message level security is implemented by using signing and verification of the message.</p>
<h6 id='x-signature-tokenization-ocbc-charge-card-step-1-construct-source-string'>STEP 1 - CONSTRUCT SOURCE STRING</h6>
<ul>
<li>The source string should be formed with elements, construct with key and value pair data.</li>
<li>The elements should then be sorted in ascending order, case-insensitive.</li>
<li>Each element should be separated by a &quot;|&quot; (pipe) character in between them.</li>
<li>Below is a sample of key value pairs:</li>
</ul>

<p><code>collection_id: &#39;inbmmepb&#39;, description: &#39;testing&#39;, email: &#39;api@billplz.com&#39;, name: &#39;Michael&#39;, amount: &#39;200&#39;, callback_url: &#39;https://example.com/webhook&#39;</code></p>

<ul>
<li>Below is sample of constructed source string by using key value pairs above:</li>
</ul>

<p><code>amount200|callback_urlhttps://example.com/webhook|collection_idinbmmepb|descriptiontesting|emailapi@billplz.com|nameMichael</code></p>

<ul>
<li><p>In the case of nested data, the parent key should be prepanded to the nested elements.</p></li>
<li><p>Example of nested key value pairs:</p></li>
</ul>

<p><code>collections: [{id: &#39;inbmmepb&#39;, title: &#39;testing&#39;}, {id: &#39;xyzabc&#39;, title: &#39;testing x 2&#39;}], page: 1</code></p>

<ul>
<li>Will construct source string as below:</li>
</ul>

<p><code>collectionsidinbmmepb|collectionsidxyzabc|collectionstitletesting|collectionstitletesting x 2|page1</code></p>
<h6 id='x-signature-tokenization-ocbc-charge-card-step-2-sign-the-source-string'>STEP 2 - SIGN THE SOURCE STRING</h6>
<ul>
<li>Get your XSignature Key from setting page.</li>
<li>Sign the constructed source string in step #1 using <strong>HMAC_SHA256</strong> and the shared XSignature Key.</li>
</ul>

<p>Below is a sample of constructed source string:</p>

<p><code>amount200|callback_urlhttps://example.com/webhook|collection_idinbmmepb|descriptiontesting|emailapi@billplz.com|nameMichael</code></p>

<p>Below is the final x_signature value using above source string with &#39;abc123cde456&#39; as XSignature Key:</p>

<p><code>ef5e54a22af0925cba88fab467119742e90262e3646eea1dee3949938daf3a38</code></p>

<aside class="notice">
  Elements in the source string should not contain <code>x_signature</code>.
</aside>
<h1 id='payment-completion'>Payment Completion</h1><h2 id='payment-completion-basic-callback-url'>Basic Callback Url</h2>
<p><code>callback_url</code> feature does not give your users the same instant bill update experience as of redirect_url feature, however <strong>it does guarantee you 100% execution backend to backend update</strong>.</p>

<p><code>callback_url</code> feature integration is <strong>compulsory</strong> but <code>redirect_url</code> feature is <strong>optional</strong>.</p>

<p>**<strong><em>you are strongly advised to integrate both redirect_url feature (for better user experience) and callback_url feature (for 100% transaction update)</em></strong></p>

<blockquote>
<p>Example Server Side Request from Billplz:</p>
</blockquote>
<pre class="highlight plaintext"><code>POST /webhook/ HTTP/1.1
Connection: close
Host: 127.0.0.1
Content-Length: 346
Content-Type: application/x-www-form-urlencoded

  id="W_79pJDk"
  &amp;collection_id="599"
  &amp;paid="true"
  &amp;state="paid"
  &amp;amount="200"
  &amp;paid_amount="0"
  &amp;due_at="2020-12-31"
  &amp;email="api@billplz.com"
  &amp;mobile="+60112223333"
  &amp;name="MICHAEL API"
  &amp;metadata[id]="9999"
  &amp;metadata[description]="This is to test bill creation"
  &amp;url="http://billplz.dev/bills/W_79pJDk"
  &amp;paid_at="2015-03-09 16:23:59 +0800"
</code></pre>
<blockquote>
<p>Body formatted for readability.</p>
</blockquote>
<h6 id='payment-completion-basic-callback-url-ocbc-charge-card-server-side-request'>SERVER SIDE REQUEST</h6>
<p>Billplz will make a POST request to <code>callback_url</code> with Bill object upon payment completion (<code>failure</code> or <code>success</code>).</p>

<p>A bill that catched payment failure will be in <code>due</code> state.</p>

<p>By default, <code>Basic Callback URL</code> feature is disabled due to security reason.</p>

<aside class="notice">
  Billplz account registered before September 2018 will have Basic Callback URL feature enabled by default.
</aside>
<h6 id='payment-completion-basic-callback-url-ocbc-charge-card-http-request'>HTTP REQUEST</h6>
<p><code>POST {CALLBACK_URL}</code></p>
<h6 id='payment-completion-basic-callback-url-ocbc-charge-card-post-parameter'>POST PARAMETER</h6>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>ID that represents bill.</td>
</tr>
<tr>
<td>collection_id</td>
<td>ID that represents the collection where the bill belongs to.</td>
</tr>
<tr>
<td>paid</td>
<td>Boolean value to tell if a bill has paid. It will return <code>false</code> for <code>due</code> and <code>deleted</code> bills; <code>true</code> for paid bills.</td>
</tr>
<tr>
<td>state</td>
<td>State that representing the bill&#39;s status, possible states are <code>due</code>, <code>deleted</code>, and <code>paid</code>.</td>
</tr>
<tr>
<td>amount</td>
<td>Bill&#39;s amount in positive integer, smallest currency unit (e.g 100 cents to charge RM 1.00).</td>
</tr>
<tr>
<td>paid_amount</td>
<td>Bill&#39;s paid amount in positive integer, smallest currency unit (e.g 100 cents to charge RM 1.00).</td>
</tr>
<tr>
<td>due_at</td>
<td>Due date for the bill, in format <code>YYYY-MM-DD</code>. Example, <code>2020-12-31</code>.</td>
</tr>
<tr>
<td>email</td>
<td>The email address of the bill&#39;s recipient.</td>
</tr>
<tr>
<td>mobile</td>
<td>Recipient&#39;s mobile number, in format <code>+601XXXXXXXX</code></td>
</tr>
<tr>
<td>name</td>
<td>Recipient&#39;s name.</td>
</tr>
<tr>
<td>metadata</td>
<td>Deprecated hash value data.</td>
</tr>
<tr>
<td>URL</td>
<td>URL to the bill page.</td>
</tr>
<tr>
<td>paid_at</td>
<td>Date time when the bill was paid, in format <code>YYYY-MM-DD HH:MM:SS TimeZone</code>. Example, <code>2017-02-13 05:43:43 +0800</code></td>
</tr>
</tbody></table>

<p>Callback request will be timeout at 20 seconds.</p>

<p>Billplz server also expecting the end point server responds with status code of 200.</p>

<p>In a case of either the end point server does not able to respond within the limit seconds (20 secs) or does not respond with 200 status code, the callback will consider as failure.</p>

<p>On failure, the job is scheduled again in 15 minutes * N + (random 0-300 seconds), where N is the number of attempts with maximum of 4. The 5th (last) attempt will be 24 hours + random (0-300 seconds) after 4th attempt.</p>

<p>Assuming the first callback is initiated at 13:00:00. The second attempt will be at 13:15:00 + N seconds. The third attempt will be at 13:30:02 + N seconds. The fourth attempt will be at 13:45:05 + N seconds. The fifth attempt will be at 13:45:07+ N seconds next day.</p>

<p>Billplz will attempt for maximum of 5 times and the callback will be removed from the system queue permanently after that.</p>

<aside class="warning">
  YOUR <a href="#webhook-rank">ACCOUNT RANK</a> WILL BE DEGRADED BY 1 FOR EVERY UNSUCCESSFUL ATTEMPT OF CALLBACK AND WILL RESULT TO LOWER SCHEDULING PRIORITY FOR THE CALLBACK TO BE EXECUTED FOR YOUR ACCOUNT.
</aside>

<aside class="warning">
  YOU ARE STRONGLY ADVISED TO USE <a href="#payment-completion-x-signature-callback-url">X SIGNATURE CALLBACK URL</a>. USING X SIGNATURE ALLOWS YOU TO VALIDATE THE DATA INTEGRITY BY USING CHECKSUM.
</aside>
<h2 id='payment-completion-basic-redirect-url'>Basic Redirect Url</h2>
<p><code>redirect_url</code> feature is just a front-end redirection to <code>redirect_url</code> specified, <strong>it does not guaranteed the execution</strong>, due to many factors (user disconnected, browser closed, app hang, etc).</p>

<p>But it is good to have, to provide better user experience (front-end instant bill status update)</p>

<p><code>callback_url</code> feature integration is <strong>compulsory</strong> but <code>redirect_url</code> feature is <strong>optional</strong>.</p>

<p>**<strong><em>you are strongly advised to integrate both redirect_url feature (for better user experience) and callback_url feature (for 100% transaction update)</em></strong></p>
<h6 id='payment-completion-basic-redirect-url-ocbc-charge-card-client-side-request'>CLIENT SIDE REQUEST</h6>
<p>If <code>redirect_url</code> exists, Billplz will redirect the browser to <code>redirect_url</code></p>

<p>By default, <code>Basic Redirect URL</code> feature is disabled due to security reason.</p>

<aside class="notice">
  Billplz account registered before September 2018 will have Basic Redirect URL feature enabled by default.
</aside>
<h6 id='payment-completion-basic-redirect-url-ocbc-charge-card-http-request'>HTTP REQUEST</h6>
<p><code>GET {REDIRECT_URL}?billplz[id]=W_79pJDk</code></p>
<h6 id='payment-completion-basic-redirect-url-ocbc-charge-card-url-parameter'>URL PARAMETER</h6>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>billplz[id]</td>
<td>ID that represents bill.</td>
</tr>
</tbody></table>

<aside class="warning">
  YOU ARE STRONGLY ADVISED TO USE <a href="#payment-completion-x-signature-redirect-url">X SIGNATURE REDIRECT URL</a>. USING X SIGNATURE ALLOWS YOU TO VALIDATE THE DATA INTEGRITY BY USING CHECKSUM.
</aside>
<h2 id='payment-completion-x-signature-callback-url'>X Signature Callback Url</h2>
<p><code>callback_url</code> feature does not give you the same instant bill update experience as of redirect_url feature, however <strong>it does guarantee you 100% execution backend to backend update</strong>.</p>

<p><code>callback_url</code> feature integration is <strong>compulsory</strong> but <code>redirect_url</code> feature is <strong>optional</strong>.</p>

<p>**<strong><em>you are strongly advised to integrate both redirect_url feature (for better user experience) and callback_url feature (for 100% transaction update)</em></strong></p>
<h6 id='payment-completion-x-signature-callback-url-ocbc-charge-card-server-side-request'>SERVER SIDE REQUEST</h6>
<p>Billplz will make a POST request to <code>callback_url</code> with Bill object upon payment completion (<code>failure</code> or <code>success</code>).</p>

<p>X Signature Callback URL request created through the API by Billplz can be verified by calculating a digital signature - <code>x_signature</code>.</p>

<p>Each callback request includes a <code>x_signature</code> which is generated using HMAC-SHA256 algorithm and shared XSignature Key, along with the data sent in the request.</p>

<p>To verify that the request came from Billplz, compute the HMAC-SHA256 digest according to the <a href="#x-signature">X Signature section</a> and compare it to the value in the <code>x_signature</code> parameter. If they match, you can be sure that the callback was sent from Billplz and the data has not been compromised.</p>

<p>A bill that catched payment failure will be in <code>due</code> state.</p>

<aside class="success">
  By default, X Signature Callback URL feature is activated for account registered starting September 2018.
</aside>

<blockquote>
<p>Example Server Side Request from Billplz:</p>
</blockquote>
<pre class="highlight plaintext"><code>POST /webhook/ HTTP/1.1
Connection: close
Host: 127.0.0.1
Content-Length: 346
Content-Type: application/x-www-form-urlencoded

  id="W_79pJDk"
  &amp;collection_id="599"
  &amp;paid="true"
  &amp;state="paid"
  &amp;amount="200"
  &amp;paid_amount="0"
  &amp;due_at="2020-12-31"
  &amp;email="api@billplz.com"
  &amp;mobile="+60112223333"
  &amp;name="MICHAEL API"
  &amp;url="http://billplz.dev/bills/W_79pJDk"
  &amp;paid_at="2015-03-09 16:23:59 +0800"
  &amp;x_signature="f0ff6c564f98d5403e2b26fbd3d45309c76eb68d8c5bcda0d48b541c3502a396"
</code></pre>
<blockquote>
<p>Body formatted for readability.</p>
</blockquote>
<h6 id='payment-completion-x-signature-callback-url-ocbc-charge-card-http-request'>HTTP REQUEST</h6>
<p><code>POST {CALLBACK_URL}</code></p>
<h6 id='payment-completion-x-signature-callback-url-ocbc-charge-card-post-parameter'>POST PARAMETER</h6>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>ID that represents bill.</td>
</tr>
<tr>
<td>collection_id</td>
<td>ID that represents the collection where the bill belongs to.</td>
</tr>
<tr>
<td>paid</td>
<td>Boolean value to tell if a bill has paid. It will return <code>false</code> for <code>due</code> and <code>deleted</code> bills; <code>true</code> for <code>paid</code> bills.</td>
</tr>
<tr>
<td>state</td>
<td>State that representing the bill&#39;s status, possible states are <code>due</code>, <code>deleted</code> and <code>paid</code>.</td>
</tr>
<tr>
<td>amount</td>
<td>Bill&#39;s amount in positive integer, smallest currency unit (e.g 100 cents to charge RM 1.00).</td>
</tr>
<tr>
<td>paid_amount</td>
<td>Bill&#39;s paid amount in positive integer, smallest currency unit (e.g 100 cents to charge RM 1.00).</td>
</tr>
<tr>
<td>due_at</td>
<td>Due date for the bill, in format <code>YYYY-MM-DD</code>. Example, <code>2020-12-31</code>.</td>
</tr>
<tr>
<td>email</td>
<td>The email address of the bill&#39;s recipient.</td>
</tr>
<tr>
<td>mobile</td>
<td>Recipient&#39;s mobile number.</td>
</tr>
<tr>
<td>name</td>
<td>Recipient&#39;s name.</td>
</tr>
<tr>
<td>URL</td>
<td>URL to the bill page.</td>
</tr>
<tr>
<td>paid_at</td>
<td>Date time when the bill was paid, in format <code>YYYY-MM-DD HH:MM:SS TimeZone</code>. Example, <code>2015-03-09 16:23:59 +0800</code>.</td>
</tr>
<tr>
<td>x_signature</td>
<td>Digital signature computed with posted data and shared XSignature Key.</td>
</tr>
</tbody></table>

<p>Callback request will be timeout in 20 seconds.</p>

<p>Billplz server also expecting the end point server responds with status code of 200.</p>

<p>In a case of either the end point server does not able to respond within the limit seconds (20 secs) or does not respond with 200 status code, the callback will consider as failure.</p>

<p>On failure, the job is scheduled again in 15 minutes * N + (random 0-300 seconds), where N is the number of attempts with maximum of 4. The 5th (last) attempt will be 24 hours + random (0-300 seconds) after 4th attempt.</p>

<p>Assuming the first callback is initiated at 13:00:00. The second attempt will be at 13:15:00 + N seconds. The third attempt will be at 13:30:02 + N seconds. The fourth attempt will be at 13:45:05 + N seconds. The fifth attempt will be at 13:45:07+ N seconds next day.</p>

<p>Billplz will attempt for maximum of 5 times and the callback will be removed from the system queue permanently after that.</p>
<h6 id='payment-completion-x-signature-callback-url-ocbc-charge-card-sample-http-request-from-x-signature-callback-url-feature'>SAMPLE HTTP REQUEST FROM X SIGNATURE CALLBACK URL FEATURE</h6>
<p><code>POST {CALLBACK_URL}</code></p>

<p>with POST body,
<code>{:id=&gt;&quot;zq0tm2wc&quot;, :collection_id=&gt;&quot;yhx5t1pp&quot;, :paid=&gt;true, :state=&gt;&quot;paid&quot;, :amount=&gt;100, :paid_amount=&gt;100, :due_at=&gt;&quot;2018-9-27&quot;, :email=&gt;&quot;tester@test.com&quot;, :mobile=&gt;nil, :name=&gt;&quot;TESTER&quot;, :url=&gt;&quot;http://www.billplz-sandbox.com/bills/zq0tm2wc&quot;, :paid_at=&gt;&quot;2018-09-27 15:15:09 +0800&quot;, :x_signature=&gt;&quot;0fe0a20b8d557eeae570377783d062a3816a9ea80f368860bacfa7ec3ca4d00e&quot;}</code></p>
<h6 id='payment-completion-x-signature-callback-url-ocbc-charge-card-1-extract-all-key-value-pair-parameters-except-x_signature'>#1 Extract all key-value pair parameters except x_signature.</h6>
<p><code>id=&quot;zq0tm2wc&quot;</code></p>

<p><code>collection_id=&quot;yhx5t1pp&quot;</code></p>

<p><code>paid=&quot;true&quot;</code></p>

<p><code>state=&quot;paid&quot;</code></p>

<p><code>amount=&quot;100&quot;</code></p>

<p><code>paid_amount=&quot;100&quot;</code></p>

<p><code>due_at=&quot;2018-9-27&quot;</code></p>

<p><code>email=&quot;tester@test.com&quot;</code></p>

<p><code>mobile=&quot;&quot;</code></p>

<p><code>name=&quot;TESTER&quot;</code></p>

<p><code>url=&quot;http://www.billplz-sandbox.com/bills/zq0tm2wc&quot;</code></p>

<p><code>paid_at=&quot;2018-09-27 15:15:09 +0800&quot;</code></p>
<h6 id='payment-completion-x-signature-callback-url-ocbc-charge-card-2-construct-source-string-from-each-key-value-pair-parameters-above'>#2 Construct source string from each key-value pair parameters above.</h6>
<p><code>idzq0tm2wc</code></p>

<p><code>collection_idyhx5t1pp</code></p>

<p><code>paidtrue</code></p>

<p><code>statepaid</code></p>

<p><code>amount100</code></p>

<p><code>paid_amount100</code></p>

<p><code>due_at2018-9-27</code></p>

<p><code>emailtester@test.com</code></p>

<p><code>mobile</code></p>

<p><code>nameTESTER</code></p>

<p><code>urlhttp://www.billplz-sandbox.com/bills/zq0tm2wc</code></p>

<p><code>paid_at2018-09-27 15:15:09 +0800</code></p>
<h6 id='payment-completion-x-signature-callback-url-ocbc-charge-card-3-sort-in-ascending-order-case-insensitive'>#3 Sort in ascending order, case-insensitive.</h6>
<p><code>amount100</code></p>

<p><code>collection_idyhx5t1pp</code></p>

<p><code>due_at2018-9-27</code></p>

<p><code>emailtester@test.com</code></p>

<p><code>idzq0tm2wc</code></p>

<p><code>mobile</code></p>

<p><code>nameTESTER</code></p>

<p><code>paid_amount100</code></p>

<p><code>paid_at2018-09-27 15:15:09 +0800</code></p>

<p><code>paidtrue</code></p>

<p><code>statepaid</code></p>

<p><code>urlhttp://www.billplz-sandbox.com/bills/zq0tm2wc</code></p>
<h6 id='payment-completion-x-signature-callback-url-ocbc-charge-card-4-combine-sorted-source-strings-with-quot-quot-pipe-character-in-between'>#4 Combine sorted source strings with &quot;|&quot; (pipe) character in between.</h6>
<p><code>amount100|collection_idyhx5t1pp|due_at2018-9-27|emailtester@test.com|idzq0tm2wc|mobile|nameTESTER|paid_amount100|paid_at2018-09-27 15:15:09 +0800|paidtrue|statepaid|urlhttp://www.billplz-sandbox.com/bills/zq0tm2wc</code></p>
<h6 id='payment-completion-x-signature-callback-url-ocbc-charge-card-5-compute-x_signature-by-signing-the-final-source-in-4-using-hmac_sha256-and-the-sample-xsignature-key'>#5 Compute x_signature by signing the final source in #4 using HMAC_SHA256 and the sample XSignature Key.</h6>
<p><code>S-s7b4yWpp9h7rrkNM1i3Z_g</code></p>

<p><code>0fe0a20b8d557eeae570377783d062a3816a9ea80f368860bacfa7ec3ca4d00e</code></p>
<h6 id='payment-completion-x-signature-callback-url-ocbc-charge-card-6-compare-the-computed-x_signature-with-the-x_signature-passed-in-the-request'>#6 Compare the computed x_signature with the x_signature passed in the request.</h6>
<p>If they match, you can be sure that the callback was sent from Billplz and the data has not been compromised, and you <strong>do not need to trigger additional Get a Bill API for primary status validation</strong>.</p>

<aside class="warning">
  YOUR ACCOUNT RANK WILL BE DEGRADED BY 1 FOR EVERY UNSUCCESSFUL ATTEMPT OF CALLBACK AND WILL RESULT TO LOWER SCHEDULING PRIORITY FOR THE CALLBACK TO BE EXECUTED FOR YOUR ACCOUNT.
</aside>
<h2 id='payment-completion-x-signature-redirect-url'>X Signature Redirect Url</h2>
<p><code>redirect_url</code> feature is just a front-end redirection to the <code>redirect_url</code> specified, <strong>it does not guaranteed the execution</strong>, due to many factors (user disconnected, browser closed, app hang, etc).</p>

<p>But it is good to have, to provide better user experience (front-end instant bill status update)</p>

<p><code>callback_url</code> feature integration is <strong>compulsory</strong> but <code>redirect_url</code> feature is <strong>optional</strong>.</p>

<p>**<strong><em>you are strongly advised to integrate both redirect_url feature (for better user experience) and callback_url feature (for 100% transaction update)</em></strong></p>
<h6 id='payment-completion-x-signature-redirect-url-ocbc-charge-card-client-side-request'>CLIENT SIDE REQUEST</h6>
<p>If <code>redirect_url</code> exists, Billplz will redirect the browser to <code>redirect_url</code></p>

<p>X Signature Redirect URL request created by Billplz can be verified by calculating a digital signature - <code>x_signature</code>.</p>

<p>Each redirect request includes a x_signature which is generated using HMAC-SHA256 algorithm and shared XSignature Key, along with the parameters passed in the request.</p>

<p>To verify that the request came from Billplz, compute the HMAC-SHA256 digest according to the <a href="#x-signature">X Signature section</a> and compare it to the value in the <code>x_signature</code> parameter. If they match, you can be sure that the redirection was sent from Billplz and the data has not been compromised.</p>

<aside class="success">
  By default, X Signature Redirect URL feature is activated for account registered starting September 2018.
</aside>
<h6 id='payment-completion-x-signature-redirect-url-ocbc-charge-card-http-request'>HTTP REQUEST</h6>
<p><code>GET {REDIRECT_URL}?billplz[id]=ifpgaa&amp;billplz[paid]=true&amp;billplz[paid_at]=2017-01-04%2013%3A10%3A45%20%2B0800&amp;billplz[x_signature]=76de0ad8cc23706d694fd81c9027b8e3ae169e0880d75e1e123c5832c82bf707</code></p>
<h6 id='payment-completion-x-signature-redirect-url-ocbc-charge-card-url-parameter'>URL PARAMETER</h6>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>billplz[id]</td>
<td>ID that represents bill.</td>
</tr>
<tr>
<td>billplz[paid]</td>
<td>Boolean value to tell if a bill has paid. It will return <code>false</code> for <code>due</code> and <code>deleted</code> bills; <code>true</code> for paid bills.</td>
</tr>
<tr>
<td>billplz[paid_at]</td>
<td>Date time when the bill was paid, in format <code>YYYY-MM-DD HH:MM:SS TimeZone</code>. Example, <code>2017-01-04 13:10:45 +0800</code>.</td>
</tr>
<tr>
<td>billplz[x_signature]</td>
<td>Digital signature computed with passing parameters and shared XSignature Key.</td>
</tr>
</tbody></table>
<h6 id='payment-completion-x-signature-redirect-url-ocbc-charge-card-sample-http-request-from-x-signature-redirect-url-feature'>SAMPLE HTTP REQUEST FROM X SIGNATURE REDIRECT URL FEATURE</h6>
<p><code>GET {REDIRECT_URL}?billplz[id]=zq0tm2wc&amp;billplz[paid]=true&amp;billplz[paid_at]=2018-09-27%2015%3A15%3A09%20%2B0800&amp;billplz[x_signature]=4aab095fe5a39b1d534500988f9a0cb085cd1b6d5bbb55dd4e02ea6fa102b47b</code></p>
<h6 id='payment-completion-x-signature-redirect-url-ocbc-charge-card-1-extract-all-key-value-pair-parameters-except-x_signature'>#1 Extract all key-value pair parameters except x_signature.</h6>
<p><code>billplz[id]=&quot;zq0tm2wc&quot;</code></p>

<p><code>billplz[paid]=&quot;true&quot;</code></p>

<p><code>billplz[paid_at]=&quot;2018-09-27 15:15:09 +0800&quot;</code></p>
<h6 id='payment-completion-x-signature-redirect-url-ocbc-charge-card-2-construct-source-string-from-each-key-value-pair-parameters-above'>#2 Construct source string from each key-value pair parameters above.</h6>
<p><code>billplzidzq0tm2wc</code></p>

<p><code>billplzpaidtrue</code></p>

<p><code>billplzpaid_at2018-09-27 15:15:09 +0800</code></p>
<h6 id='payment-completion-x-signature-redirect-url-ocbc-charge-card-3-sort-in-ascending-order-case-insensitive'>#3 Sort in ascending order, case-insensitive.</h6>
<p><code>billplzidzq0tm2wc</code></p>

<p><code>billplzpaid_at2018-09-27 15:15:09 +0800</code></p>

<p><code>billplzpaidtrue</code></p>
<h6 id='payment-completion-x-signature-redirect-url-ocbc-charge-card-4-combine-all-source-strings-with-quot-quot-pipe-character-in-between'>#4 Combine all source strings with &quot;|&quot; (pipe) character in between.</h6>
<p><code>billplzidzq0tm2wc|billplzpaid_at2018-09-27 15:15:09 +0800|billplzpaidtrue</code></p>
<h6 id='payment-completion-x-signature-redirect-url-ocbc-charge-card-5-compute-x_signature-by-signing-the-final-source-in-4-using-hmac_sha256-and-the-sample-xsignature-key'>#5 Compute x_signature by signing the final source in #4 using HMAC_SHA256 and the sample XSignature Key.</h6>
<p><code>S-s7b4yWpp9h7rrkNM1i3Z_g</code></p>

<p><code>4aab095fe5a39b1d534500988f9a0cb085cd1b6d5bbb55dd4e02ea6fa102b47b</code></p>
<h6 id='payment-completion-x-signature-redirect-url-ocbc-charge-card-6-compare-parameter-x_signature-passed-in-the-request-with-the-computed-x_signature-in-5'>#6 Compare parameter x_signature passed in the request with the computed x_signature in #5.</h6>
<p>If they match, you can be sure that the redirection was sent from Billplz and the data has not been compromised, and you <strong>do not need to trigger additional Get a Bill API for primary status validation</strong>.</p>
<h1 id='rate-limit'>Rate Limit</h1>
<blockquote>
<p>Example request:</p>
</blockquote>
<pre class="highlight shell tab-shell"><code>curl https://www.billplz.com/api/v3/bills/8X0Iyzaw <span class="se">\</span>
  -u 73eb57f0-7d4e-42b9-a544-aeac6e4b0f81:
</code></pre>
<blockquote>
<p>Example response header without rate limit:</p>
</blockquote>
<pre class="highlight plaintext"><code>RateLimit-Limit: unlimited
RateLimit-Remaining: unlimited
RateLimit-Reset: unlimited
Content-Type: application/json;
</code></pre>
<blockquote>
<p>Example response header with rate limit:</p>
</blockquote>
<pre class="highlight plaintext"><code>RateLimit-Limit: 100
RateLimit-Remaining: 99
RateLimit-Reset: 299
Content-Type: application/json;
</code></pre>
<blockquote>
<p>Example response after exceeding limit:</p>
</blockquote>
<pre class="highlight plaintext"><code>RateLimit-Limit: 100
RateLimit-Remaining: 0
RateLimit-Reset: 299
Content-Type: application/json;
</code></pre><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"error"</span><span class="p">:</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"RateLimit"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Too many requests"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>All <strong>API GET method</strong> Endpoints are subject to rate limit.</p>

<p>The limit can be either <strong>100 requests per request window (5 minutes period)</strong> or <strong>10 requests per request window (5 minutes period)</strong>, depending on the level of abusion. The limit is cumulative either per IP address or account, and is not counted per API Endpoint Basis. Requesting for specific API Endpoint will reduce the limit for another API Endpoint within a request window.</p>

<aside class="notice">
  We will set a rate limit for specific IP Address or per account basis if the usage appears to be abusive. We reserve the rights, at our sole discretion to set this rate-limit without any further notices.
</aside>
<h6 id='rate-limit-x-signature-redirect-url-ocbc-charge-card-response-header'>RESPONSE HEADER</h6>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>RateLimit-Limit</td>
<td>Total requests allowed per request window. It&#39;s either <code>unlimited</code>, or <code>100</code> or <code>10</code>.</td>
</tr>
<tr>
<td>RateLimit-Remaining</td>
<td>Total available requests allowed per request window. It&#39;s either <code>unlimited</code>, or less than or equal to <code>RateLimit-Limit</code> parameter.</td>
</tr>
<tr>
<td>RateLimit-Reset</td>
<td>Time remaining (in seconds) for next request window restart. It&#39;s either <code>unlimited</code>, or less than or equal to <code>300</code>.</td>
</tr>
</tbody></table>

<aside class="notice">
  Exceeding the rate limit will result to <code>429</code> Too Many Requests.
</aside>

<aside class="success">
  Normal HTTP status code will be <code>200</code>.
</aside>
<h6 id='rate-limit-x-signature-redirect-url-ocbc-charge-card-response-parameter'>RESPONSE PARAMETER</h6>
<p>Response parameter will be as usual if didn&#39;t exceed the rate limit. Otherwise, the response parameters will be as follows:</p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Value</th>
</tr>
</thead><tbody>
<tr>
<td>error[type]</td>
<td><code>RateLimit</code></td>
</tr>
<tr>
<td>error[message]</td>
<td><code>Too many requests</code></td>
</tr>
</tbody></table>
<h1 id='errors'>Errors</h1>
<p>The Billplz API uses the following error codes:</p>

<table><thead>
<tr>
<th>Error Code</th>
<th>Meaning</th>
</tr>
</thead><tbody>
<tr>
<td>401</td>
<td>Unauthorized -- Your API key is wrong or you are requesting unauthorized data.</td>
</tr>
<tr>
<td>404</td>
<td>Not Found -- The specified resource could not be found.</td>
</tr>
<tr>
<td>422</td>
<td>Unprocessable Entity -- Your passed parameter is invalid or resource could not be found.</td>
</tr>
<tr>
<td>429</td>
<td>Too Many Requests -- Reached rate limit.</td>
</tr>
<tr>
<td>500</td>
<td>Internal Server Error -- We had a problem with our server. Try again later.</td>
</tr>
<tr>
<td>503</td>
<td>Service Unavailable -- We&#39;re temporarily offline for maintenance. Please try again later.</td>
</tr>
</tbody></table>

      </div>
      <div class="dark-box">
          <div class="lang-selector">
                <a href="#" data-language-name="shell">shell</a>
                <a href="#" data-language-name="ruby">ruby</a>
                <a href="#" data-language-name="php">php</a>
          </div>
      </div>
    </div>
  </body>
</html>
